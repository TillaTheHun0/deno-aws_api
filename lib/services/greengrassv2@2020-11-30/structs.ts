// Autogenerated API structures for: AWS IoT Greengrass V2

import * as cmnP from "../../encoding/common.ts";

// refs: 1 - tags: named, input
export interface CancelDeploymentRequest {
  deploymentId: string;
}

// refs: 1 - tags: named, input
export interface CreateComponentVersionRequest {
  inlineRecipe?: Uint8Array | string | null;
  lambdaFunction?: LambdaFunctionRecipeSource | null;
  tags?: { [key: string]: string | null | undefined } | null;
}

// refs: 1 - tags: named, input
export interface CreateDeploymentRequest {
  targetArn: string;
  deploymentName?: string | null;
  components?: { [key: string]: ComponentDeploymentSpecification | null | undefined } | null;
  iotJobConfiguration?: DeploymentIoTJobConfiguration | null;
  deploymentPolicies?: DeploymentPolicies | null;
  tags?: { [key: string]: string | null | undefined } | null;
}

// refs: 1 - tags: named, input
export interface DeleteComponentRequest {
  arn: string;
}

// refs: 1 - tags: named, input
export interface DeleteCoreDeviceRequest {
  coreDeviceThingName: string;
}

// refs: 1 - tags: named, input
export interface DescribeComponentRequest {
  arn: string;
}

// refs: 1 - tags: named, input
export interface GetComponentRequest {
  recipeOutputFormat?: RecipeOutputFormat | null;
  arn: string;
}

// refs: 1 - tags: named, input
export interface GetComponentVersionArtifactRequest {
  arn: string;
  artifactName: string;
}

// refs: 1 - tags: named, input
export interface GetCoreDeviceRequest {
  coreDeviceThingName: string;
}

// refs: 1 - tags: named, input
export interface GetDeploymentRequest {
  deploymentId: string;
}

// refs: 1 - tags: named, input
export interface ListComponentVersionsRequest {
  arn: string;
  maxResults?: number | null;
  nextToken?: string | null;
}

// refs: 1 - tags: named, input
export interface ListComponentsRequest {
  scope?: ComponentVisibilityScope | null;
  maxResults?: number | null;
  nextToken?: string | null;
}

// refs: 1 - tags: named, input
export interface ListCoreDevicesRequest {
  thingGroupArn?: string | null;
  status?: CoreDeviceStatus | null;
  maxResults?: number | null;
  nextToken?: string | null;
}

// refs: 1 - tags: named, input
export interface ListDeploymentsRequest {
  targetArn?: string | null;
  historyFilter?: DeploymentHistoryFilter | null;
  maxResults?: number | null;
  nextToken?: string | null;
}

// refs: 1 - tags: named, input
export interface ListEffectiveDeploymentsRequest {
  coreDeviceThingName: string;
  maxResults?: number | null;
  nextToken?: string | null;
}

// refs: 1 - tags: named, input
export interface ListInstalledComponentsRequest {
  coreDeviceThingName: string;
  maxResults?: number | null;
  nextToken?: string | null;
}

// refs: 1 - tags: named, input
export interface ListTagsForResourceRequest {
  resourceArn: string;
}

// refs: 1 - tags: named, input
export interface ResolveComponentCandidatesRequest {
  platform: ComponentPlatform;
  componentCandidates: ComponentCandidate[];
}

// refs: 1 - tags: named, input
export interface TagResourceRequest {
  resourceArn: string;
  tags: { [key: string]: string | null | undefined };
}

// refs: 1 - tags: named, input
export interface UntagResourceRequest {
  resourceArn: string;
  tagKeys: string[];
}

// refs: 1 - tags: named, output
export interface CancelDeploymentResponse {
  message?: string | null;
}

// refs: 1 - tags: named, output
export interface CreateComponentVersionResponse {
  arn?: string | null;
  componentName: string;
  componentVersion: string;
  creationTimestamp: Date | number;
  status: CloudComponentStatus;
}

// refs: 1 - tags: named, output
export interface CreateDeploymentResponse {
  deploymentId?: string | null;
  iotJobId?: string | null;
  iotJobArn?: string | null;
}

// refs: 1 - tags: named, output
export interface DescribeComponentResponse {
  arn?: string | null;
  componentName?: string | null;
  componentVersion?: string | null;
  creationTimestamp?: Date | number | null;
  publisher?: string | null;
  description?: string | null;
  status?: CloudComponentStatus | null;
  platforms?: ComponentPlatform[] | null;
  tags?: { [key: string]: string | null | undefined } | null;
}

// refs: 1 - tags: named, output
export interface GetComponentResponse {
  recipeOutputFormat: RecipeOutputFormat;
  recipe: Uint8Array | string;
  tags?: { [key: string]: string | null | undefined } | null;
}

// refs: 1 - tags: named, output
export interface GetComponentVersionArtifactResponse {
  preSignedUrl: string;
}

// refs: 1 - tags: named, output
export interface GetCoreDeviceResponse {
  coreDeviceThingName?: string | null;
  coreVersion?: string | null;
  platform?: string | null;
  architecture?: string | null;
  status?: CoreDeviceStatus | null;
  lastStatusUpdateTimestamp?: Date | number | null;
  tags?: { [key: string]: string | null | undefined } | null;
}

// refs: 1 - tags: named, output
export interface GetDeploymentResponse {
  targetArn?: string | null;
  revisionId?: string | null;
  deploymentId?: string | null;
  deploymentName?: string | null;
  deploymentStatus?: DeploymentStatus | null;
  iotJobId?: string | null;
  iotJobArn?: string | null;
  components?: { [key: string]: ComponentDeploymentSpecification | null | undefined } | null;
  deploymentPolicies?: DeploymentPolicies | null;
  iotJobConfiguration?: DeploymentIoTJobConfiguration | null;
  creationTimestamp?: Date | number | null;
  isLatestForTarget?: boolean | null;
  tags?: { [key: string]: string | null | undefined } | null;
}

// refs: 1 - tags: named, output
export interface ListComponentVersionsResponse {
  componentVersions?: ComponentVersionListItem[] | null;
  nextToken?: string | null;
}

// refs: 1 - tags: named, output
export interface ListComponentsResponse {
  components?: Component[] | null;
  nextToken?: string | null;
}

// refs: 1 - tags: named, output
export interface ListCoreDevicesResponse {
  coreDevices?: CoreDevice[] | null;
  nextToken?: string | null;
}

// refs: 1 - tags: named, output
export interface ListDeploymentsResponse {
  deployments?: Deployment[] | null;
  nextToken?: string | null;
}

// refs: 1 - tags: named, output
export interface ListEffectiveDeploymentsResponse {
  effectiveDeployments?: EffectiveDeployment[] | null;
  nextToken?: string | null;
}

// refs: 1 - tags: named, output
export interface ListInstalledComponentsResponse {
  installedComponents?: InstalledComponent[] | null;
  nextToken?: string | null;
}

// refs: 1 - tags: named, output
export interface ListTagsForResourceResponse {
  tags?: { [key: string]: string | null | undefined } | null;
}

// refs: 1 - tags: named, output
export interface ResolveComponentCandidatesResponse {
  resolvedComponentVersions?: ResolvedComponentVersion[] | null;
}

// refs: 1 - tags: named, output
export interface TagResourceResponse {
}

// refs: 1 - tags: named, output
export interface UntagResourceResponse {
}

// refs: 1 - tags: input, named, interface
export interface LambdaFunctionRecipeSource {
  lambdaArn: string;
  componentName?: string | null;
  componentVersion?: string | null;
  componentPlatforms?: ComponentPlatform[] | null;
  componentDependencies?: { [key: string]: ComponentDependencyRequirement | null | undefined } | null;
  componentLambdaParameters?: LambdaExecutionParameters | null;
}

// refs: 4 - tags: input, named, interface, output
export interface ComponentPlatform {
  name?: string | null;
  attributes?: { [key: string]: string | null | undefined } | null;
}

// refs: 1 - tags: input, named, interface
export interface ComponentDependencyRequirement {
  versionRequirement?: string | null;
  dependencyType?: ComponentDependencyType | null;
}

// refs: 1 - tags: input, named, enum
export type ComponentDependencyType =
| "HARD"
| "SOFT"
| cmnP.UnexpectedEnumValue;

// refs: 1 - tags: input, named, interface
export interface LambdaExecutionParameters {
  eventSources?: LambdaEventSource[] | null;
  maxQueueSize?: number | null;
  maxInstancesCount?: number | null;
  maxIdleTimeInSeconds?: number | null;
  timeoutInSeconds?: number | null;
  statusTimeoutInSeconds?: number | null;
  pinned?: boolean | null;
  inputPayloadEncodingType?: LambdaInputPayloadEncodingType | null;
  execArgs?: string[] | null;
  environmentVariables?: { [key: string]: string | null | undefined } | null;
  linuxProcessParams?: LambdaLinuxProcessParams | null;
}

// refs: 1 - tags: input, named, interface
export interface LambdaEventSource {
  topic: string;
  type: LambdaEventSourceType;
}

// refs: 1 - tags: input, named, enum
export type LambdaEventSourceType =
| "PUB_SUB"
| "IOT_CORE"
| cmnP.UnexpectedEnumValue;

// refs: 1 - tags: input, named, enum
export type LambdaInputPayloadEncodingType =
| "json"
| "binary"
| cmnP.UnexpectedEnumValue;

// refs: 1 - tags: input, named, interface
export interface LambdaLinuxProcessParams {
  isolationMode?: LambdaIsolationMode | null;
  containerParams?: LambdaContainerParams | null;
}

// refs: 1 - tags: input, named, enum
export type LambdaIsolationMode =
| "GreengrassContainer"
| "NoContainer"
| cmnP.UnexpectedEnumValue;

// refs: 1 - tags: input, named, interface
export interface LambdaContainerParams {
  memorySizeInKB?: number | null;
  mountROSysfs?: boolean | null;
  volumes?: LambdaVolumeMount[] | null;
  devices?: LambdaDeviceMount[] | null;
}

// refs: 1 - tags: input, named, interface
export interface LambdaVolumeMount {
  sourcePath: string;
  destinationPath: string;
  permission?: LambdaFilesystemPermission | null;
  addGroupOwner?: boolean | null;
}

// refs: 2 - tags: input, named, enum
export type LambdaFilesystemPermission =
| "ro"
| "rw"
| cmnP.UnexpectedEnumValue;

// refs: 1 - tags: input, named, interface
export interface LambdaDeviceMount {
  path: string;
  permission?: LambdaFilesystemPermission | null;
  addGroupOwner?: boolean | null;
}

// refs: 2 - tags: input, named, interface, output
export interface ComponentDeploymentSpecification {
  componentVersion?: string | null;
  configurationUpdate?: ComponentConfigurationUpdate | null;
  runWith?: ComponentRunWith | null;
}

// refs: 2 - tags: input, named, interface, output
export interface ComponentConfigurationUpdate {
  merge?: string | null;
  reset?: string[] | null;
}

// refs: 2 - tags: input, named, interface, output
export interface ComponentRunWith {
  posixUser?: string | null;
}

// refs: 2 - tags: input, named, interface, output
export interface DeploymentIoTJobConfiguration {
  jobExecutionsRolloutConfig?: IoTJobExecutionsRolloutConfig | null;
  abortConfig?: IoTJobAbortConfig | null;
  timeoutConfig?: IoTJobTimeoutConfig | null;
}

// refs: 2 - tags: input, named, interface, output
export interface IoTJobExecutionsRolloutConfig {
  exponentialRate?: IoTJobExponentialRolloutRate | null;
  maximumPerMinute?: number | null;
}

// refs: 2 - tags: input, named, interface, output
export interface IoTJobExponentialRolloutRate {
  baseRatePerMinute: number;
  incrementFactor: number;
  rateIncreaseCriteria: IoTJobRateIncreaseCriteria;
}

// refs: 2 - tags: input, named, interface, output
export interface IoTJobRateIncreaseCriteria {
  numberOfNotifiedThings?: number | null;
  numberOfSucceededThings?: number | null;
}

// refs: 2 - tags: input, named, interface, output
export interface IoTJobAbortConfig {
  criteriaList: IoTJobAbortCriteria[];
}

// refs: 2 - tags: input, named, interface, output
export interface IoTJobAbortCriteria {
  failureType: IoTJobExecutionFailureType;
  action: IoTJobAbortAction;
  thresholdPercentage: number;
  minNumberOfExecutedThings: number;
}

// refs: 2 - tags: input, named, enum, output
export type IoTJobExecutionFailureType =
| "FAILED"
| "REJECTED"
| "TIMED_OUT"
| "ALL"
| cmnP.UnexpectedEnumValue;

// refs: 2 - tags: input, named, enum, output
export type IoTJobAbortAction =
| "CANCEL"
| cmnP.UnexpectedEnumValue;

// refs: 2 - tags: input, named, interface, output
export interface IoTJobTimeoutConfig {
  inProgressTimeoutInMinutes?: number | null;
}

// refs: 2 - tags: input, named, interface, output
export interface DeploymentPolicies {
  failureHandlingPolicy?: DeploymentFailureHandlingPolicy | null;
  componentUpdatePolicy?: DeploymentComponentUpdatePolicy | null;
  configurationValidationPolicy?: DeploymentConfigurationValidationPolicy | null;
}

// refs: 2 - tags: input, named, enum, output
export type DeploymentFailureHandlingPolicy =
| "ROLLBACK"
| "DO_NOTHING"
| cmnP.UnexpectedEnumValue;

// refs: 2 - tags: input, named, interface, output
export interface DeploymentComponentUpdatePolicy {
  timeoutInSeconds?: number | null;
  action?: DeploymentComponentUpdatePolicyAction | null;
}

// refs: 2 - tags: input, named, enum, output
export type DeploymentComponentUpdatePolicyAction =
| "NOTIFY_COMPONENTS"
| "SKIP_NOTIFY_COMPONENTS"
| cmnP.UnexpectedEnumValue;

// refs: 2 - tags: input, named, interface, output
export interface DeploymentConfigurationValidationPolicy {
  timeoutInSeconds?: number | null;
}

// refs: 2 - tags: input, named, enum, output
export type RecipeOutputFormat =
| "JSON"
| "YAML"
| cmnP.UnexpectedEnumValue;

// refs: 1 - tags: input, named, enum
export type ComponentVisibilityScope =
| "PRIVATE"
| "PUBLIC"
| cmnP.UnexpectedEnumValue;

// refs: 3 - tags: input, named, enum, output
export type CoreDeviceStatus =
| "HEALTHY"
| "UNHEALTHY"
| cmnP.UnexpectedEnumValue;

// refs: 1 - tags: input, named, enum
export type DeploymentHistoryFilter =
| "ALL"
| "LATEST_ONLY"
| cmnP.UnexpectedEnumValue;

// refs: 1 - tags: input, named, interface
export interface ComponentCandidate {
  componentName?: string | null;
  componentVersion?: string | null;
  versionRequirements?: { [key: string]: string | null | undefined } | null;
}

// refs: 2 - tags: output, named, interface
export interface CloudComponentStatus {
  componentState?: CloudComponentState | null;
  message?: string | null;
  errors?: { [key: string]: string | null | undefined } | null;
}

// refs: 2 - tags: output, named, enum
export type CloudComponentState =
| "REQUESTED"
| "INITIATED"
| "DEPLOYABLE"
| "FAILED"
| "DEPRECATED"
| cmnP.UnexpectedEnumValue;

// refs: 2 - tags: output, named, enum
export type DeploymentStatus =
| "ACTIVE"
| "COMPLETED"
| "CANCELED"
| "FAILED"
| "INACTIVE"
| cmnP.UnexpectedEnumValue;

// refs: 1 - tags: output, named, interface
export interface ComponentVersionListItem {
  componentName?: string | null;
  componentVersion?: string | null;
  arn?: string | null;
}

// refs: 1 - tags: output, named, interface
export interface Component {
  arn?: string | null;
  componentName?: string | null;
  latestVersion?: ComponentLatestVersion | null;
}

// refs: 1 - tags: output, named, interface
export interface ComponentLatestVersion {
  arn?: string | null;
  componentVersion?: string | null;
  creationTimestamp?: Date | number | null;
  description?: string | null;
  publisher?: string | null;
  platforms?: ComponentPlatform[] | null;
}

// refs: 1 - tags: output, named, interface
export interface CoreDevice {
  coreDeviceThingName?: string | null;
  status?: CoreDeviceStatus | null;
  lastStatusUpdateTimestamp?: Date | number | null;
}

// refs: 1 - tags: output, named, interface
export interface Deployment {
  targetArn?: string | null;
  revisionId?: string | null;
  deploymentId?: string | null;
  deploymentName?: string | null;
  creationTimestamp?: Date | number | null;
  deploymentStatus?: DeploymentStatus | null;
  isLatestForTarget?: boolean | null;
}

// refs: 1 - tags: output, named, interface
export interface EffectiveDeployment {
  deploymentId: string;
  deploymentName: string;
  iotJobId?: string | null;
  iotJobArn?: string | null;
  description?: string | null;
  targetArn: string;
  coreDeviceExecutionStatus: EffectiveDeploymentExecutionStatus;
  reason?: string | null;
  creationTimestamp: Date | number;
  modifiedTimestamp: Date | number;
}

// refs: 1 - tags: output, named, enum
export type EffectiveDeploymentExecutionStatus =
| "IN_PROGRESS"
| "QUEUED"
| "FAILED"
| "COMPLETED"
| "TIMED_OUT"
| "CANCELED"
| "REJECTED"
| cmnP.UnexpectedEnumValue;

// refs: 1 - tags: output, named, interface
export interface InstalledComponent {
  componentName?: string | null;
  componentVersion?: string | null;
  lifecycleState?: InstalledComponentLifecycleState | null;
  lifecycleStateDetails?: string | null;
  isRoot?: boolean | null;
}

// refs: 1 - tags: output, named, enum
export type InstalledComponentLifecycleState =
| "NEW"
| "INSTALLED"
| "STARTING"
| "RUNNING"
| "STOPPING"
| "ERRORED"
| "BROKEN"
| "FINISHED"
| cmnP.UnexpectedEnumValue;

// refs: 1 - tags: output, named, interface
export interface ResolvedComponentVersion {
  arn?: string | null;
  componentName?: string | null;
  componentVersion?: string | null;
  recipe?: Uint8Array | string | null;
}
