// Autogenerated API client for: Amazon FSx

import type { ServiceClient, ApiFactory, ApiMetadata } from '../../client/common.ts';
interface RequestConfig {
  abortSignal?: AbortSignal;
}

import { JSONObject, JSONValue } from '../../encoding/json.ts';
import * as prt from "../../encoding/json.ts";

import * as uuidv4 from "https://deno.land/std@0.71.0/uuid/v4.ts";
function generateIdemptToken() {
  return uuidv4.generate();
}

export default class FSx {
  #client: ServiceClient;
  constructor(apiFactory: ApiFactory) {
    this.#client = apiFactory.buildServiceClient(FSx.ApiMetadata);
  }

  static ApiMetadata: ApiMetadata = {
    "apiVersion": "2018-03-01",
    "endpointPrefix": "fsx",
    "jsonVersion": "1.1",
    "protocol": "json",
    "serviceFullName": "Amazon FSx",
    "serviceId": "FSx",
    "signatureVersion": "v4",
    "signingName": "fsx",
    "targetPrefix": "AWSSimbaAPIService_v20180301",
    "uid": "fsx-2018-03-01"
  };

  async cancelDataRepositoryTask(
    {abortSignal, ...params}: RequestConfig & CancelDataRepositoryTaskRequest,
  ): Promise<CancelDataRepositoryTaskResponse> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "CancelDataRepositoryTask",
    });
    return prt.readObj({
      required: {},
      optional: {
        "Lifecycle": toDataRepositoryTaskLifecycle,
        "TaskId": "s",
      },
    }, await resp.json());
  }

  async createBackup(
    {abortSignal, ...params}: RequestConfig & CreateBackupRequest,
  ): Promise<CreateBackupResponse> {
    const body: JSONObject = {...params,
    ClientRequestToken: params["ClientRequestToken"] ?? generateIdemptToken(),
    Tags: params["Tags"]?.map(x => fromTag(x)),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "CreateBackup",
    });
    return prt.readObj({
      required: {},
      optional: {
        "Backup": toBackup,
      },
    }, await resp.json());
  }

  async createDataRepositoryTask(
    {abortSignal, ...params}: RequestConfig & CreateDataRepositoryTaskRequest,
  ): Promise<CreateDataRepositoryTaskResponse> {
    const body: JSONObject = {...params,
    Report: fromCompletionReport(params["Report"]),
    ClientRequestToken: params["ClientRequestToken"] ?? generateIdemptToken(),
    Tags: params["Tags"]?.map(x => fromTag(x)),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "CreateDataRepositoryTask",
    });
    return prt.readObj({
      required: {},
      optional: {
        "DataRepositoryTask": toDataRepositoryTask,
      },
    }, await resp.json());
  }

  async createFileSystem(
    {abortSignal, ...params}: RequestConfig & CreateFileSystemRequest,
  ): Promise<CreateFileSystemResponse> {
    const body: JSONObject = {...params,
    ClientRequestToken: params["ClientRequestToken"] ?? generateIdemptToken(),
    Tags: params["Tags"]?.map(x => fromTag(x)),
    WindowsConfiguration: fromCreateFileSystemWindowsConfiguration(params["WindowsConfiguration"]),
    LustreConfiguration: fromCreateFileSystemLustreConfiguration(params["LustreConfiguration"]),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "CreateFileSystem",
    });
    return prt.readObj({
      required: {},
      optional: {
        "FileSystem": toFileSystem,
      },
    }, await resp.json());
  }

  async createFileSystemFromBackup(
    {abortSignal, ...params}: RequestConfig & CreateFileSystemFromBackupRequest,
  ): Promise<CreateFileSystemFromBackupResponse> {
    const body: JSONObject = {...params,
    ClientRequestToken: params["ClientRequestToken"] ?? generateIdemptToken(),
    Tags: params["Tags"]?.map(x => fromTag(x)),
    WindowsConfiguration: fromCreateFileSystemWindowsConfiguration(params["WindowsConfiguration"]),
    LustreConfiguration: fromCreateFileSystemLustreConfiguration(params["LustreConfiguration"]),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "CreateFileSystemFromBackup",
    });
    return prt.readObj({
      required: {},
      optional: {
        "FileSystem": toFileSystem,
      },
    }, await resp.json());
  }

  async deleteBackup(
    {abortSignal, ...params}: RequestConfig & DeleteBackupRequest,
  ): Promise<DeleteBackupResponse> {
    const body: JSONObject = {...params,
    ClientRequestToken: params["ClientRequestToken"] ?? generateIdemptToken(),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "DeleteBackup",
    });
    return prt.readObj({
      required: {},
      optional: {
        "BackupId": "s",
        "Lifecycle": toBackupLifecycle,
      },
    }, await resp.json());
  }

  async deleteFileSystem(
    {abortSignal, ...params}: RequestConfig & DeleteFileSystemRequest,
  ): Promise<DeleteFileSystemResponse> {
    const body: JSONObject = {...params,
    ClientRequestToken: params["ClientRequestToken"] ?? generateIdemptToken(),
    WindowsConfiguration: fromDeleteFileSystemWindowsConfiguration(params["WindowsConfiguration"]),
    LustreConfiguration: fromDeleteFileSystemLustreConfiguration(params["LustreConfiguration"]),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "DeleteFileSystem",
    });
    return prt.readObj({
      required: {},
      optional: {
        "FileSystemId": "s",
        "Lifecycle": toFileSystemLifecycle,
        "WindowsResponse": toDeleteFileSystemWindowsResponse,
        "LustreResponse": toDeleteFileSystemLustreResponse,
      },
    }, await resp.json());
  }

  async describeBackups(
    {abortSignal, ...params}: RequestConfig & DescribeBackupsRequest = {},
  ): Promise<DescribeBackupsResponse> {
    const body: JSONObject = {...params,
    Filters: params["Filters"]?.map(x => fromFilter(x)),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "DescribeBackups",
    });
    return prt.readObj({
      required: {},
      optional: {
        "Backups": [toBackup],
        "NextToken": "s",
      },
    }, await resp.json());
  }

  async describeDataRepositoryTasks(
    {abortSignal, ...params}: RequestConfig & DescribeDataRepositoryTasksRequest = {},
  ): Promise<DescribeDataRepositoryTasksResponse> {
    const body: JSONObject = {...params,
    Filters: params["Filters"]?.map(x => fromDataRepositoryTaskFilter(x)),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "DescribeDataRepositoryTasks",
    });
    return prt.readObj({
      required: {},
      optional: {
        "DataRepositoryTasks": [toDataRepositoryTask],
        "NextToken": "s",
      },
    }, await resp.json());
  }

  async describeFileSystems(
    {abortSignal, ...params}: RequestConfig & DescribeFileSystemsRequest = {},
  ): Promise<DescribeFileSystemsResponse> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "DescribeFileSystems",
    });
    return prt.readObj({
      required: {},
      optional: {
        "FileSystems": [toFileSystem],
        "NextToken": "s",
      },
    }, await resp.json());
  }

  async listTagsForResource(
    {abortSignal, ...params}: RequestConfig & ListTagsForResourceRequest,
  ): Promise<ListTagsForResourceResponse> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "ListTagsForResource",
    });
    return prt.readObj({
      required: {},
      optional: {
        "Tags": [toTag],
        "NextToken": "s",
      },
    }, await resp.json());
  }

  async tagResource(
    {abortSignal, ...params}: RequestConfig & TagResourceRequest,
  ): Promise<TagResourceResponse> {
    const body: JSONObject = {...params,
    Tags: params["Tags"]?.map(x => fromTag(x)),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "TagResource",
    });
    return prt.readObj({
      required: {},
      optional: {},
    }, await resp.json());
  }

  async untagResource(
    {abortSignal, ...params}: RequestConfig & UntagResourceRequest,
  ): Promise<UntagResourceResponse> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "UntagResource",
    });
    return prt.readObj({
      required: {},
      optional: {},
    }, await resp.json());
  }

  async updateFileSystem(
    {abortSignal, ...params}: RequestConfig & UpdateFileSystemRequest,
  ): Promise<UpdateFileSystemResponse> {
    const body: JSONObject = {...params,
    ClientRequestToken: params["ClientRequestToken"] ?? generateIdemptToken(),
    WindowsConfiguration: fromUpdateFileSystemWindowsConfiguration(params["WindowsConfiguration"]),
    LustreConfiguration: fromUpdateFileSystemLustreConfiguration(params["LustreConfiguration"]),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "UpdateFileSystem",
    });
    return prt.readObj({
      required: {},
      optional: {
        "FileSystem": toFileSystem,
      },
    }, await resp.json());
  }

}

// refs: 1 - tags: named, input
export interface CancelDataRepositoryTaskRequest {
  TaskId: string;
}

// refs: 1 - tags: named, input
export interface CreateBackupRequest {
  FileSystemId: string;
  ClientRequestToken?: string | null;
  Tags?: Tag[] | null;
}

// refs: 1 - tags: named, input
export interface CreateDataRepositoryTaskRequest {
  Type: DataRepositoryTaskType;
  Paths?: string[] | null;
  FileSystemId: string;
  Report: CompletionReport;
  ClientRequestToken?: string | null;
  Tags?: Tag[] | null;
}

// refs: 1 - tags: named, input
export interface CreateFileSystemRequest {
  ClientRequestToken?: string | null;
  FileSystemType: FileSystemType;
  StorageCapacity: number;
  StorageType?: StorageType | null;
  SubnetIds: string[];
  SecurityGroupIds?: string[] | null;
  Tags?: Tag[] | null;
  KmsKeyId?: string | null;
  WindowsConfiguration?: CreateFileSystemWindowsConfiguration | null;
  LustreConfiguration?: CreateFileSystemLustreConfiguration | null;
}

// refs: 1 - tags: named, input
export interface CreateFileSystemFromBackupRequest {
  BackupId: string;
  ClientRequestToken?: string | null;
  SubnetIds: string[];
  SecurityGroupIds?: string[] | null;
  Tags?: Tag[] | null;
  WindowsConfiguration?: CreateFileSystemWindowsConfiguration | null;
  LustreConfiguration?: CreateFileSystemLustreConfiguration | null;
  StorageType?: StorageType | null;
}

// refs: 1 - tags: named, input
export interface DeleteBackupRequest {
  BackupId: string;
  ClientRequestToken?: string | null;
}

// refs: 1 - tags: named, input
export interface DeleteFileSystemRequest {
  FileSystemId: string;
  ClientRequestToken?: string | null;
  WindowsConfiguration?: DeleteFileSystemWindowsConfiguration | null;
  LustreConfiguration?: DeleteFileSystemLustreConfiguration | null;
}

// refs: 1 - tags: named, input
export interface DescribeBackupsRequest {
  BackupIds?: string[] | null;
  Filters?: Filter[] | null;
  MaxResults?: number | null;
  NextToken?: string | null;
}

// refs: 1 - tags: named, input
export interface DescribeDataRepositoryTasksRequest {
  TaskIds?: string[] | null;
  Filters?: DataRepositoryTaskFilter[] | null;
  MaxResults?: number | null;
  NextToken?: string | null;
}

// refs: 1 - tags: named, input
export interface DescribeFileSystemsRequest {
  FileSystemIds?: string[] | null;
  MaxResults?: number | null;
  NextToken?: string | null;
}

// refs: 1 - tags: named, input
export interface ListTagsForResourceRequest {
  ResourceARN: string;
  MaxResults?: number | null;
  NextToken?: string | null;
}

// refs: 1 - tags: named, input
export interface TagResourceRequest {
  ResourceARN: string;
  Tags: Tag[];
}

// refs: 1 - tags: named, input
export interface UntagResourceRequest {
  ResourceARN: string;
  TagKeys: string[];
}

// refs: 1 - tags: named, input
export interface UpdateFileSystemRequest {
  FileSystemId: string;
  ClientRequestToken?: string | null;
  StorageCapacity?: number | null;
  WindowsConfiguration?: UpdateFileSystemWindowsConfiguration | null;
  LustreConfiguration?: UpdateFileSystemLustreConfiguration | null;
}

// refs: 1 - tags: named, output
export interface CancelDataRepositoryTaskResponse {
  Lifecycle?: DataRepositoryTaskLifecycle | null;
  TaskId?: string | null;
}

// refs: 1 - tags: named, output
export interface CreateBackupResponse {
  Backup?: Backup | null;
}

// refs: 1 - tags: named, output
export interface CreateDataRepositoryTaskResponse {
  DataRepositoryTask?: DataRepositoryTask | null;
}

// refs: 1 - tags: named, output
export interface CreateFileSystemResponse {
  FileSystem?: FileSystem | null;
}

// refs: 1 - tags: named, output
export interface CreateFileSystemFromBackupResponse {
  FileSystem?: FileSystem | null;
}

// refs: 1 - tags: named, output
export interface DeleteBackupResponse {
  BackupId?: string | null;
  Lifecycle?: BackupLifecycle | null;
}

// refs: 1 - tags: named, output
export interface DeleteFileSystemResponse {
  FileSystemId?: string | null;
  Lifecycle?: FileSystemLifecycle | null;
  WindowsResponse?: DeleteFileSystemWindowsResponse | null;
  LustreResponse?: DeleteFileSystemLustreResponse | null;
}

// refs: 1 - tags: named, output
export interface DescribeBackupsResponse {
  Backups?: Backup[] | null;
  NextToken?: string | null;
}

// refs: 1 - tags: named, output
export interface DescribeDataRepositoryTasksResponse {
  DataRepositoryTasks?: DataRepositoryTask[] | null;
  NextToken?: string | null;
}

// refs: 1 - tags: named, output
export interface DescribeFileSystemsResponse {
  FileSystems?: FileSystem[] | null;
  NextToken?: string | null;
}

// refs: 1 - tags: named, output
export interface ListTagsForResourceResponse {
  Tags?: Tag[] | null;
  NextToken?: string | null;
}

// refs: 1 - tags: named, output
export interface TagResourceResponse {
}

// refs: 1 - tags: named, output
export interface UntagResourceResponse {
}

// refs: 1 - tags: named, output
export interface UpdateFileSystemResponse {
  FileSystem?: FileSystem | null;
}

// refs: 20 - tags: input, named, interface, output
export interface Tag {
  Key: string;
  Value: string;
}
function fromTag(input?: Tag | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}
function toTag(root: JSONValue): Tag {
  return prt.readObj({
    required: {
      "Key": "s",
      "Value": "s",
    },
    optional: {},
  }, root);
}

// refs: 3 - tags: input, named, enum, output
export type DataRepositoryTaskType =
| "EXPORT_TO_REPOSITORY"
;

function toDataRepositoryTaskType(root: JSONValue): DataRepositoryTaskType | null {
  return ( false
    || root == "EXPORT_TO_REPOSITORY"
  ) ? root : null;
}

// refs: 3 - tags: input, named, interface, output
export interface CompletionReport {
  Enabled: boolean;
  Path?: string | null;
  Format?: ReportFormat | null;
  Scope?: ReportScope | null;
}
function fromCompletionReport(input?: CompletionReport | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}
function toCompletionReport(root: JSONValue): CompletionReport {
  return prt.readObj({
    required: {
      "Enabled": "b",
    },
    optional: {
      "Path": "s",
      "Format": toReportFormat,
      "Scope": toReportScope,
    },
  }, root);
}

// refs: 3 - tags: input, named, enum, output
export type ReportFormat =
| "REPORT_CSV_20191124"
;

function toReportFormat(root: JSONValue): ReportFormat | null {
  return ( false
    || root == "REPORT_CSV_20191124"
  ) ? root : null;
}

// refs: 3 - tags: input, named, enum, output
export type ReportScope =
| "FAILED_FILES_ONLY"
;

function toReportScope(root: JSONValue): ReportScope | null {
  return ( false
    || root == "FAILED_FILES_ONLY"
  ) ? root : null;
}

// refs: 7 - tags: input, named, enum, output
export type FileSystemType =
| "WINDOWS"
| "LUSTRE"
;

function toFileSystemType(root: JSONValue): FileSystemType | null {
  return ( false
    || root == "WINDOWS"
    || root == "LUSTRE"
  ) ? root : null;
}

// refs: 8 - tags: input, named, enum, output
export type StorageType =
| "SSD"
| "HDD"
;

function toStorageType(root: JSONValue): StorageType | null {
  return ( false
    || root == "SSD"
    || root == "HDD"
  ) ? root : null;
}

// refs: 2 - tags: input, named, interface
export interface CreateFileSystemWindowsConfiguration {
  ActiveDirectoryId?: string | null;
  SelfManagedActiveDirectoryConfiguration?: SelfManagedActiveDirectoryConfiguration | null;
  DeploymentType?: WindowsDeploymentType | null;
  PreferredSubnetId?: string | null;
  ThroughputCapacity: number;
  WeeklyMaintenanceStartTime?: string | null;
  DailyAutomaticBackupStartTime?: string | null;
  AutomaticBackupRetentionDays?: number | null;
  CopyTagsToBackups?: boolean | null;
}
function fromCreateFileSystemWindowsConfiguration(input?: CreateFileSystemWindowsConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
    SelfManagedActiveDirectoryConfiguration: fromSelfManagedActiveDirectoryConfiguration(input["SelfManagedActiveDirectoryConfiguration"]),
  }
}

// refs: 2 - tags: input, named, interface
export interface SelfManagedActiveDirectoryConfiguration {
  DomainName: string;
  OrganizationalUnitDistinguishedName?: string | null;
  FileSystemAdministratorsGroup?: string | null;
  UserName: string;
  Password: string;
  DnsIps: string[];
}
function fromSelfManagedActiveDirectoryConfiguration(input?: SelfManagedActiveDirectoryConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}

// refs: 8 - tags: input, named, enum, output
export type WindowsDeploymentType =
| "MULTI_AZ_1"
| "SINGLE_AZ_1"
| "SINGLE_AZ_2"
;

function toWindowsDeploymentType(root: JSONValue): WindowsDeploymentType | null {
  return ( false
    || root == "MULTI_AZ_1"
    || root == "SINGLE_AZ_1"
    || root == "SINGLE_AZ_2"
  ) ? root : null;
}

// refs: 2 - tags: input, named, interface
export interface CreateFileSystemLustreConfiguration {
  WeeklyMaintenanceStartTime?: string | null;
  ImportPath?: string | null;
  ExportPath?: string | null;
  ImportedFileChunkSize?: number | null;
  DeploymentType?: LustreDeploymentType | null;
  AutoImportPolicy?: AutoImportPolicyType | null;
  PerUnitStorageThroughput?: number | null;
  DailyAutomaticBackupStartTime?: string | null;
  AutomaticBackupRetentionDays?: number | null;
  CopyTagsToBackups?: boolean | null;
  DriveCacheType?: DriveCacheType | null;
}
function fromCreateFileSystemLustreConfiguration(input?: CreateFileSystemLustreConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}

// refs: 8 - tags: input, named, enum, output
export type LustreDeploymentType =
| "SCRATCH_1"
| "SCRATCH_2"
| "PERSISTENT_1"
;

function toLustreDeploymentType(root: JSONValue): LustreDeploymentType | null {
  return ( false
    || root == "SCRATCH_1"
    || root == "SCRATCH_2"
    || root == "PERSISTENT_1"
  ) ? root : null;
}

// refs: 9 - tags: input, named, enum, output
export type AutoImportPolicyType =
| "NONE"
| "NEW"
| "NEW_CHANGED"
;

function toAutoImportPolicyType(root: JSONValue): AutoImportPolicyType | null {
  return ( false
    || root == "NONE"
    || root == "NEW"
    || root == "NEW_CHANGED"
  ) ? root : null;
}

// refs: 8 - tags: input, named, enum, output
export type DriveCacheType =
| "NONE"
| "READ"
;

function toDriveCacheType(root: JSONValue): DriveCacheType | null {
  return ( false
    || root == "NONE"
    || root == "READ"
  ) ? root : null;
}

// refs: 1 - tags: input, named, interface
export interface DeleteFileSystemWindowsConfiguration {
  SkipFinalBackup?: boolean | null;
  FinalBackupTags?: Tag[] | null;
}
function fromDeleteFileSystemWindowsConfiguration(input?: DeleteFileSystemWindowsConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
    FinalBackupTags: input["FinalBackupTags"]?.map(x => fromTag(x)),
  }
}

// refs: 1 - tags: input, named, interface
export interface DeleteFileSystemLustreConfiguration {
  SkipFinalBackup?: boolean | null;
  FinalBackupTags?: Tag[] | null;
}
function fromDeleteFileSystemLustreConfiguration(input?: DeleteFileSystemLustreConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
    FinalBackupTags: input["FinalBackupTags"]?.map(x => fromTag(x)),
  }
}

// refs: 1 - tags: input, named, interface
export interface Filter {
  Name?: FilterName | null;
  Values?: string[] | null;
}
function fromFilter(input?: Filter | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}

// refs: 1 - tags: input, named, enum
export type FilterName =
| "file-system-id"
| "backup-type"
| "file-system-type"
;


// refs: 1 - tags: input, named, interface
export interface DataRepositoryTaskFilter {
  Name?: DataRepositoryTaskFilterName | null;
  Values?: string[] | null;
}
function fromDataRepositoryTaskFilter(input?: DataRepositoryTaskFilter | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}

// refs: 1 - tags: input, named, enum
export type DataRepositoryTaskFilterName =
| "file-system-id"
| "task-lifecycle"
;


// refs: 1 - tags: input, named, interface
export interface UpdateFileSystemWindowsConfiguration {
  WeeklyMaintenanceStartTime?: string | null;
  DailyAutomaticBackupStartTime?: string | null;
  AutomaticBackupRetentionDays?: number | null;
  ThroughputCapacity?: number | null;
  SelfManagedActiveDirectoryConfiguration?: SelfManagedActiveDirectoryConfigurationUpdates | null;
}
function fromUpdateFileSystemWindowsConfiguration(input?: UpdateFileSystemWindowsConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
    SelfManagedActiveDirectoryConfiguration: fromSelfManagedActiveDirectoryConfigurationUpdates(input["SelfManagedActiveDirectoryConfiguration"]),
  }
}

// refs: 1 - tags: input, named, interface
export interface SelfManagedActiveDirectoryConfigurationUpdates {
  UserName?: string | null;
  Password?: string | null;
  DnsIps?: string[] | null;
}
function fromSelfManagedActiveDirectoryConfigurationUpdates(input?: SelfManagedActiveDirectoryConfigurationUpdates | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}

// refs: 1 - tags: input, named, interface
export interface UpdateFileSystemLustreConfiguration {
  WeeklyMaintenanceStartTime?: string | null;
  DailyAutomaticBackupStartTime?: string | null;
  AutomaticBackupRetentionDays?: number | null;
  AutoImportPolicy?: AutoImportPolicyType | null;
}
function fromUpdateFileSystemLustreConfiguration(input?: UpdateFileSystemLustreConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}

// refs: 3 - tags: output, named, enum
export type DataRepositoryTaskLifecycle =
| "PENDING"
| "EXECUTING"
| "FAILED"
| "SUCCEEDED"
| "CANCELED"
| "CANCELING"
;
function toDataRepositoryTaskLifecycle(root: JSONValue): DataRepositoryTaskLifecycle | null {
  return ( false
    || root == "PENDING"
    || root == "EXECUTING"
    || root == "FAILED"
    || root == "SUCCEEDED"
    || root == "CANCELED"
    || root == "CANCELING"
  ) ? root : null;
}

// refs: 2 - tags: output, named, interface
export interface Backup {
  BackupId: string;
  Lifecycle: BackupLifecycle;
  FailureDetails?: BackupFailureDetails | null;
  Type: BackupType;
  ProgressPercent?: number | null;
  CreationTime: Date | number;
  KmsKeyId?: string | null;
  ResourceARN?: string | null;
  Tags?: Tag[] | null;
  FileSystem: FileSystem;
  DirectoryInformation?: ActiveDirectoryBackupAttributes | null;
}
function toBackup(root: JSONValue): Backup {
  return prt.readObj({
    required: {
      "BackupId": "s",
      "Lifecycle": toBackupLifecycle,
      "Type": toBackupType,
      "CreationTime": "d",
      "FileSystem": toFileSystem,
    },
    optional: {
      "FailureDetails": toBackupFailureDetails,
      "ProgressPercent": "n",
      "KmsKeyId": "s",
      "ResourceARN": "s",
      "Tags": [toTag],
      "DirectoryInformation": toActiveDirectoryBackupAttributes,
    },
  }, root);
}

// refs: 3 - tags: output, named, enum
export type BackupLifecycle =
| "AVAILABLE"
| "CREATING"
| "TRANSFERRING"
| "DELETED"
| "FAILED"
;
function toBackupLifecycle(root: JSONValue): BackupLifecycle | null {
  return ( false
    || root == "AVAILABLE"
    || root == "CREATING"
    || root == "TRANSFERRING"
    || root == "DELETED"
    || root == "FAILED"
  ) ? root : null;
}

// refs: 2 - tags: output, named, interface
export interface BackupFailureDetails {
  Message?: string | null;
}
function toBackupFailureDetails(root: JSONValue): BackupFailureDetails {
  return prt.readObj({
    required: {},
    optional: {
      "Message": "s",
    },
  }, root);
}

// refs: 2 - tags: output, named, enum
export type BackupType =
| "AUTOMATIC"
| "USER_INITIATED"
;
function toBackupType(root: JSONValue): BackupType | null {
  return ( false
    || root == "AUTOMATIC"
    || root == "USER_INITIATED"
  ) ? root : null;
}

// refs: 12 - tags: output, named, interface, recursed
export interface FileSystem {
  OwnerId?: string | null;
  CreationTime?: Date | number | null;
  FileSystemId?: string | null;
  FileSystemType?: FileSystemType | null;
  Lifecycle?: FileSystemLifecycle | null;
  FailureDetails?: FileSystemFailureDetails | null;
  StorageCapacity?: number | null;
  StorageType?: StorageType | null;
  VpcId?: string | null;
  SubnetIds?: string[] | null;
  NetworkInterfaceIds?: string[] | null;
  DNSName?: string | null;
  KmsKeyId?: string | null;
  ResourceARN?: string | null;
  Tags?: Tag[] | null;
  WindowsConfiguration?: WindowsFileSystemConfiguration | null;
  LustreConfiguration?: LustreFileSystemConfiguration | null;
  AdministrativeActions?: AdministrativeAction[] | null;
}
function toFileSystem(root: JSONValue): FileSystem {
  return prt.readObj({
    required: {},
    optional: {
      "OwnerId": "s",
      "CreationTime": "d",
      "FileSystemId": "s",
      "FileSystemType": toFileSystemType,
      "Lifecycle": toFileSystemLifecycle,
      "FailureDetails": toFileSystemFailureDetails,
      "StorageCapacity": "n",
      "StorageType": toStorageType,
      "VpcId": "s",
      "SubnetIds": ["s"],
      "NetworkInterfaceIds": ["s"],
      "DNSName": "s",
      "KmsKeyId": "s",
      "ResourceARN": "s",
      "Tags": [toTag],
      "WindowsConfiguration": toWindowsFileSystemConfiguration,
      "LustreConfiguration": toLustreFileSystemConfiguration,
      "AdministrativeActions": [toAdministrativeAction],
    },
  }, root);
}

// refs: 7 - tags: output, named, enum
export type FileSystemLifecycle =
| "AVAILABLE"
| "CREATING"
| "FAILED"
| "DELETING"
| "MISCONFIGURED"
| "UPDATING"
;
function toFileSystemLifecycle(root: JSONValue): FileSystemLifecycle | null {
  return ( false
    || root == "AVAILABLE"
    || root == "CREATING"
    || root == "FAILED"
    || root == "DELETING"
    || root == "MISCONFIGURED"
    || root == "UPDATING"
  ) ? root : null;
}

// refs: 6 - tags: output, named, interface
export interface FileSystemFailureDetails {
  Message?: string | null;
}
function toFileSystemFailureDetails(root: JSONValue): FileSystemFailureDetails {
  return prt.readObj({
    required: {},
    optional: {
      "Message": "s",
    },
  }, root);
}

// refs: 6 - tags: output, named, interface
export interface WindowsFileSystemConfiguration {
  ActiveDirectoryId?: string | null;
  SelfManagedActiveDirectoryConfiguration?: SelfManagedActiveDirectoryAttributes | null;
  DeploymentType?: WindowsDeploymentType | null;
  RemoteAdministrationEndpoint?: string | null;
  PreferredSubnetId?: string | null;
  PreferredFileServerIp?: string | null;
  ThroughputCapacity?: number | null;
  MaintenanceOperationsInProgress?: FileSystemMaintenanceOperation[] | null;
  WeeklyMaintenanceStartTime?: string | null;
  DailyAutomaticBackupStartTime?: string | null;
  AutomaticBackupRetentionDays?: number | null;
  CopyTagsToBackups?: boolean | null;
}
function toWindowsFileSystemConfiguration(root: JSONValue): WindowsFileSystemConfiguration {
  return prt.readObj({
    required: {},
    optional: {
      "ActiveDirectoryId": "s",
      "SelfManagedActiveDirectoryConfiguration": toSelfManagedActiveDirectoryAttributes,
      "DeploymentType": toWindowsDeploymentType,
      "RemoteAdministrationEndpoint": "s",
      "PreferredSubnetId": "s",
      "PreferredFileServerIp": "s",
      "ThroughputCapacity": "n",
      "MaintenanceOperationsInProgress": [toFileSystemMaintenanceOperation],
      "WeeklyMaintenanceStartTime": "s",
      "DailyAutomaticBackupStartTime": "s",
      "AutomaticBackupRetentionDays": "n",
      "CopyTagsToBackups": "b",
    },
  }, root);
}

// refs: 6 - tags: output, named, interface
export interface SelfManagedActiveDirectoryAttributes {
  DomainName?: string | null;
  OrganizationalUnitDistinguishedName?: string | null;
  FileSystemAdministratorsGroup?: string | null;
  UserName?: string | null;
  DnsIps?: string[] | null;
}
function toSelfManagedActiveDirectoryAttributes(root: JSONValue): SelfManagedActiveDirectoryAttributes {
  return prt.readObj({
    required: {},
    optional: {
      "DomainName": "s",
      "OrganizationalUnitDistinguishedName": "s",
      "FileSystemAdministratorsGroup": "s",
      "UserName": "s",
      "DnsIps": ["s"],
    },
  }, root);
}

// refs: 6 - tags: output, named, enum
export type FileSystemMaintenanceOperation =
| "PATCHING"
| "BACKING_UP"
;
function toFileSystemMaintenanceOperation(root: JSONValue): FileSystemMaintenanceOperation | null {
  return ( false
    || root == "PATCHING"
    || root == "BACKING_UP"
  ) ? root : null;
}

// refs: 6 - tags: output, named, interface
export interface LustreFileSystemConfiguration {
  WeeklyMaintenanceStartTime?: string | null;
  DataRepositoryConfiguration?: DataRepositoryConfiguration | null;
  DeploymentType?: LustreDeploymentType | null;
  PerUnitStorageThroughput?: number | null;
  MountName?: string | null;
  DailyAutomaticBackupStartTime?: string | null;
  AutomaticBackupRetentionDays?: number | null;
  CopyTagsToBackups?: boolean | null;
  DriveCacheType?: DriveCacheType | null;
}
function toLustreFileSystemConfiguration(root: JSONValue): LustreFileSystemConfiguration {
  return prt.readObj({
    required: {},
    optional: {
      "WeeklyMaintenanceStartTime": "s",
      "DataRepositoryConfiguration": toDataRepositoryConfiguration,
      "DeploymentType": toLustreDeploymentType,
      "PerUnitStorageThroughput": "n",
      "MountName": "s",
      "DailyAutomaticBackupStartTime": "s",
      "AutomaticBackupRetentionDays": "n",
      "CopyTagsToBackups": "b",
      "DriveCacheType": toDriveCacheType,
    },
  }, root);
}

// refs: 6 - tags: output, named, interface
export interface DataRepositoryConfiguration {
  Lifecycle?: DataRepositoryLifecycle | null;
  ImportPath?: string | null;
  ExportPath?: string | null;
  ImportedFileChunkSize?: number | null;
  AutoImportPolicy?: AutoImportPolicyType | null;
  FailureDetails?: DataRepositoryFailureDetails | null;
}
function toDataRepositoryConfiguration(root: JSONValue): DataRepositoryConfiguration {
  return prt.readObj({
    required: {},
    optional: {
      "Lifecycle": toDataRepositoryLifecycle,
      "ImportPath": "s",
      "ExportPath": "s",
      "ImportedFileChunkSize": "n",
      "AutoImportPolicy": toAutoImportPolicyType,
      "FailureDetails": toDataRepositoryFailureDetails,
    },
  }, root);
}

// refs: 6 - tags: output, named, enum
export type DataRepositoryLifecycle =
| "CREATING"
| "AVAILABLE"
| "MISCONFIGURED"
| "UPDATING"
| "DELETING"
;
function toDataRepositoryLifecycle(root: JSONValue): DataRepositoryLifecycle | null {
  return ( false
    || root == "CREATING"
    || root == "AVAILABLE"
    || root == "MISCONFIGURED"
    || root == "UPDATING"
    || root == "DELETING"
  ) ? root : null;
}

// refs: 6 - tags: output, named, interface
export interface DataRepositoryFailureDetails {
  Message?: string | null;
}
function toDataRepositoryFailureDetails(root: JSONValue): DataRepositoryFailureDetails {
  return prt.readObj({
    required: {},
    optional: {
      "Message": "s",
    },
  }, root);
}

// refs: 6 - tags: output, named, interface, recursive
export interface AdministrativeAction {
  AdministrativeActionType?: AdministrativeActionType | null;
  ProgressPercent?: number | null;
  RequestTime?: Date | number | null;
  Status?: Status | null;
  TargetFileSystemValues?: FileSystem | null;
  FailureDetails?: AdministrativeActionFailureDetails | null;
}
function toAdministrativeAction(root: JSONValue): AdministrativeAction {
  return prt.readObj({
    required: {},
    optional: {
      "AdministrativeActionType": toAdministrativeActionType,
      "ProgressPercent": "n",
      "RequestTime": "d",
      "Status": toStatus,
      "TargetFileSystemValues": toFileSystem,
      "FailureDetails": toAdministrativeActionFailureDetails,
    },
  }, root);
}

// refs: 6 - tags: output, named, enum
export type AdministrativeActionType =
| "FILE_SYSTEM_UPDATE"
| "STORAGE_OPTIMIZATION"
;
function toAdministrativeActionType(root: JSONValue): AdministrativeActionType | null {
  return ( false
    || root == "FILE_SYSTEM_UPDATE"
    || root == "STORAGE_OPTIMIZATION"
  ) ? root : null;
}

// refs: 6 - tags: output, named, enum
export type Status =
| "FAILED"
| "IN_PROGRESS"
| "PENDING"
| "COMPLETED"
| "UPDATED_OPTIMIZING"
;
function toStatus(root: JSONValue): Status | null {
  return ( false
    || root == "FAILED"
    || root == "IN_PROGRESS"
    || root == "PENDING"
    || root == "COMPLETED"
    || root == "UPDATED_OPTIMIZING"
  ) ? root : null;
}

// refs: 6 - tags: output, named, interface
export interface AdministrativeActionFailureDetails {
  Message?: string | null;
}
function toAdministrativeActionFailureDetails(root: JSONValue): AdministrativeActionFailureDetails {
  return prt.readObj({
    required: {},
    optional: {
      "Message": "s",
    },
  }, root);
}

// refs: 2 - tags: output, named, interface
export interface ActiveDirectoryBackupAttributes {
  DomainName?: string | null;
  ActiveDirectoryId?: string | null;
}
function toActiveDirectoryBackupAttributes(root: JSONValue): ActiveDirectoryBackupAttributes {
  return prt.readObj({
    required: {},
    optional: {
      "DomainName": "s",
      "ActiveDirectoryId": "s",
    },
  }, root);
}

// refs: 2 - tags: output, named, interface
export interface DataRepositoryTask {
  TaskId: string;
  Lifecycle: DataRepositoryTaskLifecycle;
  Type: DataRepositoryTaskType;
  CreationTime: Date | number;
  StartTime?: Date | number | null;
  EndTime?: Date | number | null;
  ResourceARN?: string | null;
  Tags?: Tag[] | null;
  FileSystemId: string;
  Paths?: string[] | null;
  FailureDetails?: DataRepositoryTaskFailureDetails | null;
  Status?: DataRepositoryTaskStatus | null;
  Report?: CompletionReport | null;
}
function toDataRepositoryTask(root: JSONValue): DataRepositoryTask {
  return prt.readObj({
    required: {
      "TaskId": "s",
      "Lifecycle": toDataRepositoryTaskLifecycle,
      "Type": toDataRepositoryTaskType,
      "CreationTime": "d",
      "FileSystemId": "s",
    },
    optional: {
      "StartTime": "d",
      "EndTime": "d",
      "ResourceARN": "s",
      "Tags": [toTag],
      "Paths": ["s"],
      "FailureDetails": toDataRepositoryTaskFailureDetails,
      "Status": toDataRepositoryTaskStatus,
      "Report": toCompletionReport,
    },
  }, root);
}

// refs: 2 - tags: output, named, interface
export interface DataRepositoryTaskFailureDetails {
  Message?: string | null;
}
function toDataRepositoryTaskFailureDetails(root: JSONValue): DataRepositoryTaskFailureDetails {
  return prt.readObj({
    required: {},
    optional: {
      "Message": "s",
    },
  }, root);
}

// refs: 2 - tags: output, named, interface
export interface DataRepositoryTaskStatus {
  TotalCount?: number | null;
  SucceededCount?: number | null;
  FailedCount?: number | null;
  LastUpdatedTime?: Date | number | null;
}
function toDataRepositoryTaskStatus(root: JSONValue): DataRepositoryTaskStatus {
  return prt.readObj({
    required: {},
    optional: {
      "TotalCount": "n",
      "SucceededCount": "n",
      "FailedCount": "n",
      "LastUpdatedTime": "d",
    },
  }, root);
}

// refs: 1 - tags: output, named, interface
export interface DeleteFileSystemWindowsResponse {
  FinalBackupId?: string | null;
  FinalBackupTags?: Tag[] | null;
}
function toDeleteFileSystemWindowsResponse(root: JSONValue): DeleteFileSystemWindowsResponse {
  return prt.readObj({
    required: {},
    optional: {
      "FinalBackupId": "s",
      "FinalBackupTags": [toTag],
    },
  }, root);
}

// refs: 1 - tags: output, named, interface
export interface DeleteFileSystemLustreResponse {
  FinalBackupId?: string | null;
  FinalBackupTags?: Tag[] | null;
}
function toDeleteFileSystemLustreResponse(root: JSONValue): DeleteFileSystemLustreResponse {
  return prt.readObj({
    required: {},
    optional: {
      "FinalBackupId": "s",
      "FinalBackupTags": [toTag],
    },
  }, root);
}
