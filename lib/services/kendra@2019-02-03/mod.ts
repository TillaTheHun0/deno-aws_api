// Autogenerated API client for: AWSKendraFrontendService

import type { ServiceClient, ApiFactory, ApiMetadata } from '../../client/common.ts';
interface RequestConfig {
  abortSignal?: AbortSignal;
}

import { JSONObject, JSONValue } from '../../encoding/json.ts';
import * as prt from "../../encoding/json.ts";

import * as uuidv4 from "https://deno.land/std@0.71.0/uuid/v4.ts";
function generateIdemptToken() {
  return uuidv4.generate();
}

export default class Kendra {
  #client: ServiceClient;
  constructor(apiFactory: ApiFactory) {
    this.#client = apiFactory.buildServiceClient(Kendra.ApiMetadata);
  }

  static ApiMetadata: ApiMetadata = {
    "apiVersion": "2019-02-03",
    "endpointPrefix": "kendra",
    "jsonVersion": "1.1",
    "protocol": "json",
    "serviceAbbreviation": "kendra",
    "serviceFullName": "AWSKendraFrontendService",
    "serviceId": "kendra",
    "signatureVersion": "v4",
    "signingName": "kendra",
    "targetPrefix": "AWSKendraFrontendService",
    "uid": "kendra-2019-02-03"
  };

  async batchDeleteDocument(
    {abortSignal, ...params}: RequestConfig & BatchDeleteDocumentRequest,
  ): Promise<BatchDeleteDocumentResponse> {
    const body: JSONObject = {...params,
    DataSourceSyncJobMetricTarget: fromDataSourceSyncJobMetricTarget(params["DataSourceSyncJobMetricTarget"]),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "BatchDeleteDocument",
    });
    return prt.readObj({
      required: {},
      optional: {
        "FailedDocuments": [toBatchDeleteDocumentResponseFailedDocument],
      },
    }, await resp.json());
  }

  async batchPutDocument(
    {abortSignal, ...params}: RequestConfig & BatchPutDocumentRequest,
  ): Promise<BatchPutDocumentResponse> {
    const body: JSONObject = {...params,
    Documents: params["Documents"]?.map(x => fromDocument(x)),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "BatchPutDocument",
    });
    return prt.readObj({
      required: {},
      optional: {
        "FailedDocuments": [toBatchPutDocumentResponseFailedDocument],
      },
    }, await resp.json());
  }

  async createDataSource(
    {abortSignal, ...params}: RequestConfig & CreateDataSourceRequest,
  ): Promise<CreateDataSourceResponse> {
    const body: JSONObject = {...params,
    Configuration: fromDataSourceConfiguration(params["Configuration"]),
    Tags: params["Tags"]?.map(x => fromTag(x)),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "CreateDataSource",
    });
    return prt.readObj({
      required: {
        "Id": "s",
      },
      optional: {},
    }, await resp.json());
  }

  async createFaq(
    {abortSignal, ...params}: RequestConfig & CreateFaqRequest,
  ): Promise<CreateFaqResponse> {
    const body: JSONObject = {...params,
    S3Path: fromS3Path(params["S3Path"]),
    Tags: params["Tags"]?.map(x => fromTag(x)),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "CreateFaq",
    });
    return prt.readObj({
      required: {},
      optional: {
        "Id": "s",
      },
    }, await resp.json());
  }

  async createIndex(
    {abortSignal, ...params}: RequestConfig & CreateIndexRequest,
  ): Promise<CreateIndexResponse> {
    const body: JSONObject = {...params,
    ServerSideEncryptionConfiguration: fromServerSideEncryptionConfiguration(params["ServerSideEncryptionConfiguration"]),
    ClientToken: params["ClientToken"] ?? generateIdemptToken(),
    Tags: params["Tags"]?.map(x => fromTag(x)),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "CreateIndex",
    });
    return prt.readObj({
      required: {},
      optional: {
        "Id": "s",
      },
    }, await resp.json());
  }

  async deleteDataSource(
    {abortSignal, ...params}: RequestConfig & DeleteDataSourceRequest,
  ): Promise<void> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "DeleteDataSource",
    });
  }

  async deleteFaq(
    {abortSignal, ...params}: RequestConfig & DeleteFaqRequest,
  ): Promise<void> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "DeleteFaq",
    });
  }

  async deleteIndex(
    {abortSignal, ...params}: RequestConfig & DeleteIndexRequest,
  ): Promise<void> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "DeleteIndex",
    });
  }

  async describeDataSource(
    {abortSignal, ...params}: RequestConfig & DescribeDataSourceRequest,
  ): Promise<DescribeDataSourceResponse> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "DescribeDataSource",
    });
    return prt.readObj({
      required: {},
      optional: {
        "Id": "s",
        "IndexId": "s",
        "Name": "s",
        "Type": toDataSourceType,
        "Configuration": toDataSourceConfiguration,
        "CreatedAt": "d",
        "UpdatedAt": "d",
        "Description": "s",
        "Status": toDataSourceStatus,
        "Schedule": "s",
        "RoleArn": "s",
        "ErrorMessage": "s",
      },
    }, await resp.json());
  }

  async describeFaq(
    {abortSignal, ...params}: RequestConfig & DescribeFaqRequest,
  ): Promise<DescribeFaqResponse> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "DescribeFaq",
    });
    return prt.readObj({
      required: {},
      optional: {
        "Id": "s",
        "IndexId": "s",
        "Name": "s",
        "Description": "s",
        "CreatedAt": "d",
        "UpdatedAt": "d",
        "S3Path": toS3Path,
        "Status": toFaqStatus,
        "RoleArn": "s",
        "ErrorMessage": "s",
        "FileFormat": toFaqFileFormat,
      },
    }, await resp.json());
  }

  async describeIndex(
    {abortSignal, ...params}: RequestConfig & DescribeIndexRequest,
  ): Promise<DescribeIndexResponse> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "DescribeIndex",
    });
    return prt.readObj({
      required: {},
      optional: {
        "Name": "s",
        "Id": "s",
        "Edition": toIndexEdition,
        "RoleArn": "s",
        "ServerSideEncryptionConfiguration": toServerSideEncryptionConfiguration,
        "Status": toIndexStatus,
        "Description": "s",
        "CreatedAt": "d",
        "UpdatedAt": "d",
        "DocumentMetadataConfigurations": [toDocumentMetadataConfiguration],
        "IndexStatistics": toIndexStatistics,
        "ErrorMessage": "s",
        "CapacityUnits": toCapacityUnitsConfiguration,
      },
    }, await resp.json());
  }

  async listDataSourceSyncJobs(
    {abortSignal, ...params}: RequestConfig & ListDataSourceSyncJobsRequest,
  ): Promise<ListDataSourceSyncJobsResponse> {
    const body: JSONObject = {...params,
    StartTimeFilter: fromTimeRange(params["StartTimeFilter"]),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "ListDataSourceSyncJobs",
    });
    return prt.readObj({
      required: {},
      optional: {
        "History": [toDataSourceSyncJob],
        "NextToken": "s",
      },
    }, await resp.json());
  }

  async listDataSources(
    {abortSignal, ...params}: RequestConfig & ListDataSourcesRequest,
  ): Promise<ListDataSourcesResponse> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "ListDataSources",
    });
    return prt.readObj({
      required: {},
      optional: {
        "SummaryItems": [toDataSourceSummary],
        "NextToken": "s",
      },
    }, await resp.json());
  }

  async listFaqs(
    {abortSignal, ...params}: RequestConfig & ListFaqsRequest,
  ): Promise<ListFaqsResponse> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "ListFaqs",
    });
    return prt.readObj({
      required: {},
      optional: {
        "NextToken": "s",
        "FaqSummaryItems": [toFaqSummary],
      },
    }, await resp.json());
  }

  async listIndices(
    {abortSignal, ...params}: RequestConfig & ListIndicesRequest = {},
  ): Promise<ListIndicesResponse> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "ListIndices",
    });
    return prt.readObj({
      required: {},
      optional: {
        "IndexConfigurationSummaryItems": [toIndexConfigurationSummary],
        "NextToken": "s",
      },
    }, await resp.json());
  }

  async listTagsForResource(
    {abortSignal, ...params}: RequestConfig & ListTagsForResourceRequest,
  ): Promise<ListTagsForResourceResponse> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "ListTagsForResource",
    });
    return prt.readObj({
      required: {},
      optional: {
        "Tags": [toTag],
      },
    }, await resp.json());
  }

  async query(
    {abortSignal, ...params}: RequestConfig & QueryRequest,
  ): Promise<QueryResult> {
    const body: JSONObject = {...params,
    AttributeFilter: fromAttributeFilter(params["AttributeFilter"]),
    Facets: params["Facets"]?.map(x => fromFacet(x)),
    SortingConfiguration: fromSortingConfiguration(params["SortingConfiguration"]),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "Query",
    });
    return prt.readObj({
      required: {},
      optional: {
        "QueryId": "s",
        "ResultItems": [toQueryResultItem],
        "FacetResults": [toFacetResult],
        "TotalNumberOfResults": "n",
      },
    }, await resp.json());
  }

  async startDataSourceSyncJob(
    {abortSignal, ...params}: RequestConfig & StartDataSourceSyncJobRequest,
  ): Promise<StartDataSourceSyncJobResponse> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "StartDataSourceSyncJob",
    });
    return prt.readObj({
      required: {},
      optional: {
        "ExecutionId": "s",
      },
    }, await resp.json());
  }

  async stopDataSourceSyncJob(
    {abortSignal, ...params}: RequestConfig & StopDataSourceSyncJobRequest,
  ): Promise<void> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "StopDataSourceSyncJob",
    });
  }

  async submitFeedback(
    {abortSignal, ...params}: RequestConfig & SubmitFeedbackRequest,
  ): Promise<void> {
    const body: JSONObject = {...params,
    ClickFeedbackItems: params["ClickFeedbackItems"]?.map(x => fromClickFeedback(x)),
    RelevanceFeedbackItems: params["RelevanceFeedbackItems"]?.map(x => fromRelevanceFeedback(x)),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "SubmitFeedback",
    });
  }

  async tagResource(
    {abortSignal, ...params}: RequestConfig & TagResourceRequest,
  ): Promise<TagResourceResponse> {
    const body: JSONObject = {...params,
    Tags: params["Tags"]?.map(x => fromTag(x)),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "TagResource",
    });
    return prt.readObj({
      required: {},
      optional: {},
    }, await resp.json());
  }

  async untagResource(
    {abortSignal, ...params}: RequestConfig & UntagResourceRequest,
  ): Promise<UntagResourceResponse> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "UntagResource",
    });
    return prt.readObj({
      required: {},
      optional: {},
    }, await resp.json());
  }

  async updateDataSource(
    {abortSignal, ...params}: RequestConfig & UpdateDataSourceRequest,
  ): Promise<void> {
    const body: JSONObject = {...params,
    Configuration: fromDataSourceConfiguration(params["Configuration"]),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "UpdateDataSource",
    });
  }

  async updateIndex(
    {abortSignal, ...params}: RequestConfig & UpdateIndexRequest,
  ): Promise<void> {
    const body: JSONObject = {...params,
    DocumentMetadataConfigurationUpdates: params["DocumentMetadataConfigurationUpdates"]?.map(x => fromDocumentMetadataConfiguration(x)),
    CapacityUnits: fromCapacityUnitsConfiguration(params["CapacityUnits"]),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "UpdateIndex",
    });
  }

}

// refs: 1 - tags: named, input
export interface BatchDeleteDocumentRequest {
  IndexId: string;
  DocumentIdList: string[];
  DataSourceSyncJobMetricTarget?: DataSourceSyncJobMetricTarget | null;
}

// refs: 1 - tags: named, input
export interface BatchPutDocumentRequest {
  IndexId: string;
  RoleArn?: string | null;
  Documents: Document[];
}

// refs: 1 - tags: named, input
export interface CreateDataSourceRequest {
  Name: string;
  IndexId: string;
  Type: DataSourceType;
  Configuration: DataSourceConfiguration;
  Description?: string | null;
  Schedule?: string | null;
  RoleArn: string;
  Tags?: Tag[] | null;
}

// refs: 1 - tags: named, input
export interface CreateFaqRequest {
  IndexId: string;
  Name: string;
  Description?: string | null;
  S3Path: S3Path;
  RoleArn: string;
  Tags?: Tag[] | null;
  FileFormat?: FaqFileFormat | null;
}

// refs: 1 - tags: named, input
export interface CreateIndexRequest {
  Name: string;
  Edition?: IndexEdition | null;
  RoleArn: string;
  ServerSideEncryptionConfiguration?: ServerSideEncryptionConfiguration | null;
  Description?: string | null;
  ClientToken?: string | null;
  Tags?: Tag[] | null;
}

// refs: 1 - tags: named, input
export interface DeleteDataSourceRequest {
  Id: string;
  IndexId: string;
}

// refs: 1 - tags: named, input
export interface DeleteFaqRequest {
  Id: string;
  IndexId: string;
}

// refs: 1 - tags: named, input
export interface DeleteIndexRequest {
  Id: string;
}

// refs: 1 - tags: named, input
export interface DescribeDataSourceRequest {
  Id: string;
  IndexId: string;
}

// refs: 1 - tags: named, input
export interface DescribeFaqRequest {
  Id: string;
  IndexId: string;
}

// refs: 1 - tags: named, input
export interface DescribeIndexRequest {
  Id: string;
}

// refs: 1 - tags: named, input
export interface ListDataSourceSyncJobsRequest {
  Id: string;
  IndexId: string;
  NextToken?: string | null;
  MaxResults?: number | null;
  StartTimeFilter?: TimeRange | null;
  StatusFilter?: DataSourceSyncJobStatus | null;
}

// refs: 1 - tags: named, input
export interface ListDataSourcesRequest {
  IndexId: string;
  NextToken?: string | null;
  MaxResults?: number | null;
}

// refs: 1 - tags: named, input
export interface ListFaqsRequest {
  IndexId: string;
  NextToken?: string | null;
  MaxResults?: number | null;
}

// refs: 1 - tags: named, input
export interface ListIndicesRequest {
  NextToken?: string | null;
  MaxResults?: number | null;
}

// refs: 1 - tags: named, input
export interface ListTagsForResourceRequest {
  ResourceARN: string;
}

// refs: 1 - tags: named, input
export interface QueryRequest {
  IndexId: string;
  QueryText: string;
  AttributeFilter?: AttributeFilter | null;
  Facets?: Facet[] | null;
  RequestedDocumentAttributes?: string[] | null;
  QueryResultTypeFilter?: QueryResultType | null;
  PageNumber?: number | null;
  PageSize?: number | null;
  SortingConfiguration?: SortingConfiguration | null;
}

// refs: 1 - tags: named, input
export interface StartDataSourceSyncJobRequest {
  Id: string;
  IndexId: string;
}

// refs: 1 - tags: named, input
export interface StopDataSourceSyncJobRequest {
  Id: string;
  IndexId: string;
}

// refs: 1 - tags: named, input
export interface SubmitFeedbackRequest {
  IndexId: string;
  QueryId: string;
  ClickFeedbackItems?: ClickFeedback[] | null;
  RelevanceFeedbackItems?: RelevanceFeedback[] | null;
}

// refs: 1 - tags: named, input
export interface TagResourceRequest {
  ResourceARN: string;
  Tags: Tag[];
}

// refs: 1 - tags: named, input
export interface UntagResourceRequest {
  ResourceARN: string;
  TagKeys: string[];
}

// refs: 1 - tags: named, input
export interface UpdateDataSourceRequest {
  Id: string;
  Name?: string | null;
  IndexId: string;
  Configuration?: DataSourceConfiguration | null;
  Description?: string | null;
  Schedule?: string | null;
  RoleArn?: string | null;
}

// refs: 1 - tags: named, input
export interface UpdateIndexRequest {
  Id: string;
  Name?: string | null;
  RoleArn?: string | null;
  Description?: string | null;
  DocumentMetadataConfigurationUpdates?: DocumentMetadataConfiguration[] | null;
  CapacityUnits?: CapacityUnitsConfiguration | null;
}

// refs: 1 - tags: named, output
export interface BatchDeleteDocumentResponse {
  FailedDocuments?: BatchDeleteDocumentResponseFailedDocument[] | null;
}

// refs: 1 - tags: named, output
export interface BatchPutDocumentResponse {
  FailedDocuments?: BatchPutDocumentResponseFailedDocument[] | null;
}

// refs: 1 - tags: named, output
export interface CreateDataSourceResponse {
  Id: string;
}

// refs: 1 - tags: named, output
export interface CreateFaqResponse {
  Id?: string | null;
}

// refs: 1 - tags: named, output
export interface CreateIndexResponse {
  Id?: string | null;
}

// refs: 1 - tags: named, output
export interface DescribeDataSourceResponse {
  Id?: string | null;
  IndexId?: string | null;
  Name?: string | null;
  Type?: DataSourceType | null;
  Configuration?: DataSourceConfiguration | null;
  CreatedAt?: Date | number | null;
  UpdatedAt?: Date | number | null;
  Description?: string | null;
  Status?: DataSourceStatus | null;
  Schedule?: string | null;
  RoleArn?: string | null;
  ErrorMessage?: string | null;
}

// refs: 1 - tags: named, output
export interface DescribeFaqResponse {
  Id?: string | null;
  IndexId?: string | null;
  Name?: string | null;
  Description?: string | null;
  CreatedAt?: Date | number | null;
  UpdatedAt?: Date | number | null;
  S3Path?: S3Path | null;
  Status?: FaqStatus | null;
  RoleArn?: string | null;
  ErrorMessage?: string | null;
  FileFormat?: FaqFileFormat | null;
}

// refs: 1 - tags: named, output
export interface DescribeIndexResponse {
  Name?: string | null;
  Id?: string | null;
  Edition?: IndexEdition | null;
  RoleArn?: string | null;
  ServerSideEncryptionConfiguration?: ServerSideEncryptionConfiguration | null;
  Status?: IndexStatus | null;
  Description?: string | null;
  CreatedAt?: Date | number | null;
  UpdatedAt?: Date | number | null;
  DocumentMetadataConfigurations?: DocumentMetadataConfiguration[] | null;
  IndexStatistics?: IndexStatistics | null;
  ErrorMessage?: string | null;
  CapacityUnits?: CapacityUnitsConfiguration | null;
}

// refs: 1 - tags: named, output
export interface ListDataSourceSyncJobsResponse {
  History?: DataSourceSyncJob[] | null;
  NextToken?: string | null;
}

// refs: 1 - tags: named, output
export interface ListDataSourcesResponse {
  SummaryItems?: DataSourceSummary[] | null;
  NextToken?: string | null;
}

// refs: 1 - tags: named, output
export interface ListFaqsResponse {
  NextToken?: string | null;
  FaqSummaryItems?: FaqSummary[] | null;
}

// refs: 1 - tags: named, output
export interface ListIndicesResponse {
  IndexConfigurationSummaryItems?: IndexConfigurationSummary[] | null;
  NextToken?: string | null;
}

// refs: 1 - tags: named, output
export interface ListTagsForResourceResponse {
  Tags?: Tag[] | null;
}

// refs: 1 - tags: named, output
export interface QueryResult {
  QueryId?: string | null;
  ResultItems?: QueryResultItem[] | null;
  FacetResults?: FacetResult[] | null;
  TotalNumberOfResults?: number | null;
}

// refs: 1 - tags: named, output
export interface StartDataSourceSyncJobResponse {
  ExecutionId?: string | null;
}

// refs: 1 - tags: named, output
export interface TagResourceResponse {
}

// refs: 1 - tags: named, output
export interface UntagResourceResponse {
}

// refs: 1 - tags: input, named, interface
export interface DataSourceSyncJobMetricTarget {
  DataSourceId: string;
  DataSourceSyncJobId: string;
}
function fromDataSourceSyncJobMetricTarget(input?: DataSourceSyncJobMetricTarget | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}

// refs: 1 - tags: input, named, interface
export interface Document {
  Id: string;
  Title?: string | null;
  Blob?: Uint8Array | string | null;
  S3Path?: S3Path | null;
  Attributes?: DocumentAttribute[] | null;
  AccessControlList?: Principal[] | null;
  ContentType?: ContentType | null;
}
function fromDocument(input?: Document | null): JSONValue {
  if (!input) return input;
  return {...input,
    Blob: prt.serializeBlob(input["Blob"]),
    S3Path: fromS3Path(input["S3Path"]),
    Attributes: input["Attributes"]?.map(x => fromDocumentAttribute(x)),
    AccessControlList: input["AccessControlList"]?.map(x => fromPrincipal(x)),
  }
}

// refs: 6 - tags: input, named, interface, output
export interface S3Path {
  Bucket: string;
  Key: string;
}
function fromS3Path(input?: S3Path | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}
function toS3Path(root: JSONValue): S3Path {
  return prt.readObj({
    required: {
      "Bucket": "s",
      "Key": "s",
    },
    optional: {},
  }, root);
}

// refs: 9 - tags: input, named, interface, output
export interface DocumentAttribute {
  Key: string;
  Value: DocumentAttributeValue;
}
function fromDocumentAttribute(input?: DocumentAttribute | null): JSONValue {
  if (!input) return input;
  return {...input,
    Value: fromDocumentAttributeValue(input["Value"]),
  }
}
function toDocumentAttribute(root: JSONValue): DocumentAttribute {
  return prt.readObj({
    required: {
      "Key": "s",
      "Value": toDocumentAttributeValue,
    },
    optional: {},
  }, root);
}

// refs: 10 - tags: input, named, interface, output
export interface DocumentAttributeValue {
  StringValue?: string | null;
  StringListValue?: string[] | null;
  LongValue?: number | null;
  DateValue?: Date | number | null;
}
function fromDocumentAttributeValue(input?: DocumentAttributeValue | null): JSONValue {
  if (!input) return input;
  return {...input,
    DateValue: prt.serializeDate_unixTimestamp(input["DateValue"]),
  }
}
function toDocumentAttributeValue(root: JSONValue): DocumentAttributeValue {
  return prt.readObj({
    required: {},
    optional: {
      "StringValue": "s",
      "StringListValue": ["s"],
      "LongValue": "n",
      "DateValue": "d",
    },
  }, root);
}

// refs: 1 - tags: input, named, interface
export interface Principal {
  Name: string;
  Type: PrincipalType;
  Access: ReadAccessType;
}
function fromPrincipal(input?: Principal | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}

// refs: 1 - tags: input, named, enum
export type PrincipalType =
| "USER"
| "GROUP"
;


// refs: 1 - tags: input, named, enum
export type ReadAccessType =
| "ALLOW"
| "DENY"
;


// refs: 1 - tags: input, named, enum
export type ContentType =
| "PDF"
| "HTML"
| "MS_WORD"
| "PLAIN_TEXT"
| "PPT"
;


// refs: 3 - tags: input, named, enum, output
export type DataSourceType =
| "S3"
| "SHAREPOINT"
| "DATABASE"
| "SALESFORCE"
| "ONEDRIVE"
| "SERVICENOW"
;

function toDataSourceType(root: JSONValue): DataSourceType | null {
  return ( false
    || root == "S3"
    || root == "SHAREPOINT"
    || root == "DATABASE"
    || root == "SALESFORCE"
    || root == "ONEDRIVE"
    || root == "SERVICENOW"
  ) ? root : null;
}

// refs: 3 - tags: input, named, interface, output
export interface DataSourceConfiguration {
  S3Configuration?: S3DataSourceConfiguration | null;
  SharePointConfiguration?: SharePointConfiguration | null;
  DatabaseConfiguration?: DatabaseConfiguration | null;
  SalesforceConfiguration?: SalesforceConfiguration | null;
  OneDriveConfiguration?: OneDriveConfiguration | null;
  ServiceNowConfiguration?: ServiceNowConfiguration | null;
}
function fromDataSourceConfiguration(input?: DataSourceConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
    S3Configuration: fromS3DataSourceConfiguration(input["S3Configuration"]),
    SharePointConfiguration: fromSharePointConfiguration(input["SharePointConfiguration"]),
    DatabaseConfiguration: fromDatabaseConfiguration(input["DatabaseConfiguration"]),
    SalesforceConfiguration: fromSalesforceConfiguration(input["SalesforceConfiguration"]),
    OneDriveConfiguration: fromOneDriveConfiguration(input["OneDriveConfiguration"]),
    ServiceNowConfiguration: fromServiceNowConfiguration(input["ServiceNowConfiguration"]),
  }
}
function toDataSourceConfiguration(root: JSONValue): DataSourceConfiguration {
  return prt.readObj({
    required: {},
    optional: {
      "S3Configuration": toS3DataSourceConfiguration,
      "SharePointConfiguration": toSharePointConfiguration,
      "DatabaseConfiguration": toDatabaseConfiguration,
      "SalesforceConfiguration": toSalesforceConfiguration,
      "OneDriveConfiguration": toOneDriveConfiguration,
      "ServiceNowConfiguration": toServiceNowConfiguration,
    },
  }, root);
}

// refs: 3 - tags: input, named, interface, output
export interface S3DataSourceConfiguration {
  BucketName: string;
  InclusionPrefixes?: string[] | null;
  ExclusionPatterns?: string[] | null;
  DocumentsMetadataConfiguration?: DocumentsMetadataConfiguration | null;
  AccessControlListConfiguration?: AccessControlListConfiguration | null;
}
function fromS3DataSourceConfiguration(input?: S3DataSourceConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
    DocumentsMetadataConfiguration: fromDocumentsMetadataConfiguration(input["DocumentsMetadataConfiguration"]),
    AccessControlListConfiguration: fromAccessControlListConfiguration(input["AccessControlListConfiguration"]),
  }
}
function toS3DataSourceConfiguration(root: JSONValue): S3DataSourceConfiguration {
  return prt.readObj({
    required: {
      "BucketName": "s",
    },
    optional: {
      "InclusionPrefixes": ["s"],
      "ExclusionPatterns": ["s"],
      "DocumentsMetadataConfiguration": toDocumentsMetadataConfiguration,
      "AccessControlListConfiguration": toAccessControlListConfiguration,
    },
  }, root);
}

// refs: 3 - tags: input, named, interface, output
export interface DocumentsMetadataConfiguration {
  S3Prefix?: string | null;
}
function fromDocumentsMetadataConfiguration(input?: DocumentsMetadataConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}
function toDocumentsMetadataConfiguration(root: JSONValue): DocumentsMetadataConfiguration {
  return prt.readObj({
    required: {},
    optional: {
      "S3Prefix": "s",
    },
  }, root);
}

// refs: 3 - tags: input, named, interface, output
export interface AccessControlListConfiguration {
  KeyPath?: string | null;
}
function fromAccessControlListConfiguration(input?: AccessControlListConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}
function toAccessControlListConfiguration(root: JSONValue): AccessControlListConfiguration {
  return prt.readObj({
    required: {},
    optional: {
      "KeyPath": "s",
    },
  }, root);
}

// refs: 3 - tags: input, named, interface, output
export interface SharePointConfiguration {
  SharePointVersion: SharePointVersion;
  Urls: string[];
  SecretArn: string;
  CrawlAttachments?: boolean | null;
  UseChangeLog?: boolean | null;
  InclusionPatterns?: string[] | null;
  ExclusionPatterns?: string[] | null;
  VpcConfiguration?: DataSourceVpcConfiguration | null;
  FieldMappings?: DataSourceToIndexFieldMapping[] | null;
  DocumentTitleFieldName?: string | null;
}
function fromSharePointConfiguration(input?: SharePointConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
    VpcConfiguration: fromDataSourceVpcConfiguration(input["VpcConfiguration"]),
    FieldMappings: input["FieldMappings"]?.map(x => fromDataSourceToIndexFieldMapping(x)),
  }
}
function toSharePointConfiguration(root: JSONValue): SharePointConfiguration {
  return prt.readObj({
    required: {
      "SharePointVersion": toSharePointVersion,
      "Urls": ["s"],
      "SecretArn": "s",
    },
    optional: {
      "CrawlAttachments": "b",
      "UseChangeLog": "b",
      "InclusionPatterns": ["s"],
      "ExclusionPatterns": ["s"],
      "VpcConfiguration": toDataSourceVpcConfiguration,
      "FieldMappings": [toDataSourceToIndexFieldMapping],
      "DocumentTitleFieldName": "s",
    },
  }, root);
}

// refs: 3 - tags: input, named, enum, output
export type SharePointVersion =
| "SHAREPOINT_ONLINE"
;

function toSharePointVersion(root: JSONValue): SharePointVersion | null {
  return ( false
    || root == "SHAREPOINT_ONLINE"
  ) ? root : null;
}

// refs: 6 - tags: input, named, interface, output
export interface DataSourceVpcConfiguration {
  SubnetIds: string[];
  SecurityGroupIds: string[];
}
function fromDataSourceVpcConfiguration(input?: DataSourceVpcConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}
function toDataSourceVpcConfiguration(root: JSONValue): DataSourceVpcConfiguration {
  return prt.readObj({
    required: {
      "SubnetIds": ["s"],
      "SecurityGroupIds": ["s"],
    },
    optional: {},
  }, root);
}

// refs: 30 - tags: input, named, interface, output
export interface DataSourceToIndexFieldMapping {
  DataSourceFieldName: string;
  DateFieldFormat?: string | null;
  IndexFieldName: string;
}
function fromDataSourceToIndexFieldMapping(input?: DataSourceToIndexFieldMapping | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}
function toDataSourceToIndexFieldMapping(root: JSONValue): DataSourceToIndexFieldMapping {
  return prt.readObj({
    required: {
      "DataSourceFieldName": "s",
      "IndexFieldName": "s",
    },
    optional: {
      "DateFieldFormat": "s",
    },
  }, root);
}

// refs: 3 - tags: input, named, interface, output
export interface DatabaseConfiguration {
  DatabaseEngineType: DatabaseEngineType;
  ConnectionConfiguration: ConnectionConfiguration;
  VpcConfiguration?: DataSourceVpcConfiguration | null;
  ColumnConfiguration: ColumnConfiguration;
  AclConfiguration?: AclConfiguration | null;
  SqlConfiguration?: SqlConfiguration | null;
}
function fromDatabaseConfiguration(input?: DatabaseConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
    ConnectionConfiguration: fromConnectionConfiguration(input["ConnectionConfiguration"]),
    VpcConfiguration: fromDataSourceVpcConfiguration(input["VpcConfiguration"]),
    ColumnConfiguration: fromColumnConfiguration(input["ColumnConfiguration"]),
    AclConfiguration: fromAclConfiguration(input["AclConfiguration"]),
    SqlConfiguration: fromSqlConfiguration(input["SqlConfiguration"]),
  }
}
function toDatabaseConfiguration(root: JSONValue): DatabaseConfiguration {
  return prt.readObj({
    required: {
      "DatabaseEngineType": toDatabaseEngineType,
      "ConnectionConfiguration": toConnectionConfiguration,
      "ColumnConfiguration": toColumnConfiguration,
    },
    optional: {
      "VpcConfiguration": toDataSourceVpcConfiguration,
      "AclConfiguration": toAclConfiguration,
      "SqlConfiguration": toSqlConfiguration,
    },
  }, root);
}

// refs: 3 - tags: input, named, enum, output
export type DatabaseEngineType =
| "RDS_AURORA_MYSQL"
| "RDS_AURORA_POSTGRESQL"
| "RDS_MYSQL"
| "RDS_POSTGRESQL"
;

function toDatabaseEngineType(root: JSONValue): DatabaseEngineType | null {
  return ( false
    || root == "RDS_AURORA_MYSQL"
    || root == "RDS_AURORA_POSTGRESQL"
    || root == "RDS_MYSQL"
    || root == "RDS_POSTGRESQL"
  ) ? root : null;
}

// refs: 3 - tags: input, named, interface, output
export interface ConnectionConfiguration {
  DatabaseHost: string;
  DatabasePort: number;
  DatabaseName: string;
  TableName: string;
  SecretArn: string;
}
function fromConnectionConfiguration(input?: ConnectionConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}
function toConnectionConfiguration(root: JSONValue): ConnectionConfiguration {
  return prt.readObj({
    required: {
      "DatabaseHost": "s",
      "DatabasePort": "n",
      "DatabaseName": "s",
      "TableName": "s",
      "SecretArn": "s",
    },
    optional: {},
  }, root);
}

// refs: 3 - tags: input, named, interface, output
export interface ColumnConfiguration {
  DocumentIdColumnName: string;
  DocumentDataColumnName: string;
  DocumentTitleColumnName?: string | null;
  FieldMappings?: DataSourceToIndexFieldMapping[] | null;
  ChangeDetectingColumns: string[];
}
function fromColumnConfiguration(input?: ColumnConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
    FieldMappings: input["FieldMappings"]?.map(x => fromDataSourceToIndexFieldMapping(x)),
  }
}
function toColumnConfiguration(root: JSONValue): ColumnConfiguration {
  return prt.readObj({
    required: {
      "DocumentIdColumnName": "s",
      "DocumentDataColumnName": "s",
      "ChangeDetectingColumns": ["s"],
    },
    optional: {
      "DocumentTitleColumnName": "s",
      "FieldMappings": [toDataSourceToIndexFieldMapping],
    },
  }, root);
}

// refs: 3 - tags: input, named, interface, output
export interface AclConfiguration {
  AllowedGroupsColumnName: string;
}
function fromAclConfiguration(input?: AclConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}
function toAclConfiguration(root: JSONValue): AclConfiguration {
  return prt.readObj({
    required: {
      "AllowedGroupsColumnName": "s",
    },
    optional: {},
  }, root);
}

// refs: 3 - tags: input, named, interface, output
export interface SqlConfiguration {
  QueryIdentifiersEnclosingOption?: QueryIdentifiersEnclosingOption | null;
}
function fromSqlConfiguration(input?: SqlConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}
function toSqlConfiguration(root: JSONValue): SqlConfiguration {
  return prt.readObj({
    required: {},
    optional: {
      "QueryIdentifiersEnclosingOption": toQueryIdentifiersEnclosingOption,
    },
  }, root);
}

// refs: 3 - tags: input, named, enum, output
export type QueryIdentifiersEnclosingOption =
| "DOUBLE_QUOTES"
| "NONE"
;

function toQueryIdentifiersEnclosingOption(root: JSONValue): QueryIdentifiersEnclosingOption | null {
  return ( false
    || root == "DOUBLE_QUOTES"
    || root == "NONE"
  ) ? root : null;
}

// refs: 3 - tags: input, named, interface, output
export interface SalesforceConfiguration {
  ServerUrl: string;
  SecretArn: string;
  StandardObjectConfigurations?: SalesforceStandardObjectConfiguration[] | null;
  KnowledgeArticleConfiguration?: SalesforceKnowledgeArticleConfiguration | null;
  ChatterFeedConfiguration?: SalesforceChatterFeedConfiguration | null;
  CrawlAttachments?: boolean | null;
  StandardObjectAttachmentConfiguration?: SalesforceStandardObjectAttachmentConfiguration | null;
  IncludeAttachmentFilePatterns?: string[] | null;
  ExcludeAttachmentFilePatterns?: string[] | null;
}
function fromSalesforceConfiguration(input?: SalesforceConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
    StandardObjectConfigurations: input["StandardObjectConfigurations"]?.map(x => fromSalesforceStandardObjectConfiguration(x)),
    KnowledgeArticleConfiguration: fromSalesforceKnowledgeArticleConfiguration(input["KnowledgeArticleConfiguration"]),
    ChatterFeedConfiguration: fromSalesforceChatterFeedConfiguration(input["ChatterFeedConfiguration"]),
    StandardObjectAttachmentConfiguration: fromSalesforceStandardObjectAttachmentConfiguration(input["StandardObjectAttachmentConfiguration"]),
  }
}
function toSalesforceConfiguration(root: JSONValue): SalesforceConfiguration {
  return prt.readObj({
    required: {
      "ServerUrl": "s",
      "SecretArn": "s",
    },
    optional: {
      "StandardObjectConfigurations": [toSalesforceStandardObjectConfiguration],
      "KnowledgeArticleConfiguration": toSalesforceKnowledgeArticleConfiguration,
      "ChatterFeedConfiguration": toSalesforceChatterFeedConfiguration,
      "CrawlAttachments": "b",
      "StandardObjectAttachmentConfiguration": toSalesforceStandardObjectAttachmentConfiguration,
      "IncludeAttachmentFilePatterns": ["s"],
      "ExcludeAttachmentFilePatterns": ["s"],
    },
  }, root);
}

// refs: 3 - tags: input, named, interface, output
export interface SalesforceStandardObjectConfiguration {
  Name: SalesforceStandardObjectName;
  DocumentDataFieldName: string;
  DocumentTitleFieldName?: string | null;
  FieldMappings?: DataSourceToIndexFieldMapping[] | null;
}
function fromSalesforceStandardObjectConfiguration(input?: SalesforceStandardObjectConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
    FieldMappings: input["FieldMappings"]?.map(x => fromDataSourceToIndexFieldMapping(x)),
  }
}
function toSalesforceStandardObjectConfiguration(root: JSONValue): SalesforceStandardObjectConfiguration {
  return prt.readObj({
    required: {
      "Name": toSalesforceStandardObjectName,
      "DocumentDataFieldName": "s",
    },
    optional: {
      "DocumentTitleFieldName": "s",
      "FieldMappings": [toDataSourceToIndexFieldMapping],
    },
  }, root);
}

// refs: 3 - tags: input, named, enum, output
export type SalesforceStandardObjectName =
| "ACCOUNT"
| "CAMPAIGN"
| "CASE"
| "CONTACT"
| "CONTRACT"
| "DOCUMENT"
| "GROUP"
| "IDEA"
| "LEAD"
| "OPPORTUNITY"
| "PARTNER"
| "PRICEBOOK"
| "PRODUCT"
| "PROFILE"
| "SOLUTION"
| "TASK"
| "USER"
;

function toSalesforceStandardObjectName(root: JSONValue): SalesforceStandardObjectName | null {
  return ( false
    || root == "ACCOUNT"
    || root == "CAMPAIGN"
    || root == "CASE"
    || root == "CONTACT"
    || root == "CONTRACT"
    || root == "DOCUMENT"
    || root == "GROUP"
    || root == "IDEA"
    || root == "LEAD"
    || root == "OPPORTUNITY"
    || root == "PARTNER"
    || root == "PRICEBOOK"
    || root == "PRODUCT"
    || root == "PROFILE"
    || root == "SOLUTION"
    || root == "TASK"
    || root == "USER"
  ) ? root : null;
}

// refs: 3 - tags: input, named, interface, output
export interface SalesforceKnowledgeArticleConfiguration {
  IncludedStates: SalesforceKnowledgeArticleState[];
  StandardKnowledgeArticleTypeConfiguration?: SalesforceStandardKnowledgeArticleTypeConfiguration | null;
  CustomKnowledgeArticleTypeConfigurations?: SalesforceCustomKnowledgeArticleTypeConfiguration[] | null;
}
function fromSalesforceKnowledgeArticleConfiguration(input?: SalesforceKnowledgeArticleConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
    StandardKnowledgeArticleTypeConfiguration: fromSalesforceStandardKnowledgeArticleTypeConfiguration(input["StandardKnowledgeArticleTypeConfiguration"]),
    CustomKnowledgeArticleTypeConfigurations: input["CustomKnowledgeArticleTypeConfigurations"]?.map(x => fromSalesforceCustomKnowledgeArticleTypeConfiguration(x)),
  }
}
function toSalesforceKnowledgeArticleConfiguration(root: JSONValue): SalesforceKnowledgeArticleConfiguration {
  return prt.readObj({
    required: {
      "IncludedStates": [toSalesforceKnowledgeArticleState],
    },
    optional: {
      "StandardKnowledgeArticleTypeConfiguration": toSalesforceStandardKnowledgeArticleTypeConfiguration,
      "CustomKnowledgeArticleTypeConfigurations": [toSalesforceCustomKnowledgeArticleTypeConfiguration],
    },
  }, root);
}

// refs: 3 - tags: input, named, enum, output
export type SalesforceKnowledgeArticleState =
| "DRAFT"
| "PUBLISHED"
| "ARCHIVED"
;

function toSalesforceKnowledgeArticleState(root: JSONValue): SalesforceKnowledgeArticleState | null {
  return ( false
    || root == "DRAFT"
    || root == "PUBLISHED"
    || root == "ARCHIVED"
  ) ? root : null;
}

// refs: 3 - tags: input, named, interface, output
export interface SalesforceStandardKnowledgeArticleTypeConfiguration {
  DocumentDataFieldName: string;
  DocumentTitleFieldName?: string | null;
  FieldMappings?: DataSourceToIndexFieldMapping[] | null;
}
function fromSalesforceStandardKnowledgeArticleTypeConfiguration(input?: SalesforceStandardKnowledgeArticleTypeConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
    FieldMappings: input["FieldMappings"]?.map(x => fromDataSourceToIndexFieldMapping(x)),
  }
}
function toSalesforceStandardKnowledgeArticleTypeConfiguration(root: JSONValue): SalesforceStandardKnowledgeArticleTypeConfiguration {
  return prt.readObj({
    required: {
      "DocumentDataFieldName": "s",
    },
    optional: {
      "DocumentTitleFieldName": "s",
      "FieldMappings": [toDataSourceToIndexFieldMapping],
    },
  }, root);
}

// refs: 3 - tags: input, named, interface, output
export interface SalesforceCustomKnowledgeArticleTypeConfiguration {
  Name: string;
  DocumentDataFieldName: string;
  DocumentTitleFieldName?: string | null;
  FieldMappings?: DataSourceToIndexFieldMapping[] | null;
}
function fromSalesforceCustomKnowledgeArticleTypeConfiguration(input?: SalesforceCustomKnowledgeArticleTypeConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
    FieldMappings: input["FieldMappings"]?.map(x => fromDataSourceToIndexFieldMapping(x)),
  }
}
function toSalesforceCustomKnowledgeArticleTypeConfiguration(root: JSONValue): SalesforceCustomKnowledgeArticleTypeConfiguration {
  return prt.readObj({
    required: {
      "Name": "s",
      "DocumentDataFieldName": "s",
    },
    optional: {
      "DocumentTitleFieldName": "s",
      "FieldMappings": [toDataSourceToIndexFieldMapping],
    },
  }, root);
}

// refs: 3 - tags: input, named, interface, output
export interface SalesforceChatterFeedConfiguration {
  DocumentDataFieldName: string;
  DocumentTitleFieldName?: string | null;
  FieldMappings?: DataSourceToIndexFieldMapping[] | null;
  IncludeFilterTypes?: SalesforceChatterFeedIncludeFilterType[] | null;
}
function fromSalesforceChatterFeedConfiguration(input?: SalesforceChatterFeedConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
    FieldMappings: input["FieldMappings"]?.map(x => fromDataSourceToIndexFieldMapping(x)),
  }
}
function toSalesforceChatterFeedConfiguration(root: JSONValue): SalesforceChatterFeedConfiguration {
  return prt.readObj({
    required: {
      "DocumentDataFieldName": "s",
    },
    optional: {
      "DocumentTitleFieldName": "s",
      "FieldMappings": [toDataSourceToIndexFieldMapping],
      "IncludeFilterTypes": [toSalesforceChatterFeedIncludeFilterType],
    },
  }, root);
}

// refs: 3 - tags: input, named, enum, output
export type SalesforceChatterFeedIncludeFilterType =
| "ACTIVE_USER"
| "STANDARD_USER"
;

function toSalesforceChatterFeedIncludeFilterType(root: JSONValue): SalesforceChatterFeedIncludeFilterType | null {
  return ( false
    || root == "ACTIVE_USER"
    || root == "STANDARD_USER"
  ) ? root : null;
}

// refs: 3 - tags: input, named, interface, output
export interface SalesforceStandardObjectAttachmentConfiguration {
  DocumentTitleFieldName?: string | null;
  FieldMappings?: DataSourceToIndexFieldMapping[] | null;
}
function fromSalesforceStandardObjectAttachmentConfiguration(input?: SalesforceStandardObjectAttachmentConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
    FieldMappings: input["FieldMappings"]?.map(x => fromDataSourceToIndexFieldMapping(x)),
  }
}
function toSalesforceStandardObjectAttachmentConfiguration(root: JSONValue): SalesforceStandardObjectAttachmentConfiguration {
  return prt.readObj({
    required: {},
    optional: {
      "DocumentTitleFieldName": "s",
      "FieldMappings": [toDataSourceToIndexFieldMapping],
    },
  }, root);
}

// refs: 3 - tags: input, named, interface, output
export interface OneDriveConfiguration {
  TenantDomain: string;
  SecretArn: string;
  OneDriveUsers: OneDriveUsers;
  InclusionPatterns?: string[] | null;
  ExclusionPatterns?: string[] | null;
  FieldMappings?: DataSourceToIndexFieldMapping[] | null;
}
function fromOneDriveConfiguration(input?: OneDriveConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
    OneDriveUsers: fromOneDriveUsers(input["OneDriveUsers"]),
    FieldMappings: input["FieldMappings"]?.map(x => fromDataSourceToIndexFieldMapping(x)),
  }
}
function toOneDriveConfiguration(root: JSONValue): OneDriveConfiguration {
  return prt.readObj({
    required: {
      "TenantDomain": "s",
      "SecretArn": "s",
      "OneDriveUsers": toOneDriveUsers,
    },
    optional: {
      "InclusionPatterns": ["s"],
      "ExclusionPatterns": ["s"],
      "FieldMappings": [toDataSourceToIndexFieldMapping],
    },
  }, root);
}

// refs: 3 - tags: input, named, interface, output
export interface OneDriveUsers {
  OneDriveUserList?: string[] | null;
  OneDriveUserS3Path?: S3Path | null;
}
function fromOneDriveUsers(input?: OneDriveUsers | null): JSONValue {
  if (!input) return input;
  return {...input,
    OneDriveUserS3Path: fromS3Path(input["OneDriveUserS3Path"]),
  }
}
function toOneDriveUsers(root: JSONValue): OneDriveUsers {
  return prt.readObj({
    required: {},
    optional: {
      "OneDriveUserList": ["s"],
      "OneDriveUserS3Path": toS3Path,
    },
  }, root);
}

// refs: 3 - tags: input, named, interface, output
export interface ServiceNowConfiguration {
  HostUrl: string;
  SecretArn: string;
  ServiceNowBuildVersion: ServiceNowBuildVersionType;
  KnowledgeArticleConfiguration?: ServiceNowKnowledgeArticleConfiguration | null;
  ServiceCatalogConfiguration?: ServiceNowServiceCatalogConfiguration | null;
}
function fromServiceNowConfiguration(input?: ServiceNowConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
    KnowledgeArticleConfiguration: fromServiceNowKnowledgeArticleConfiguration(input["KnowledgeArticleConfiguration"]),
    ServiceCatalogConfiguration: fromServiceNowServiceCatalogConfiguration(input["ServiceCatalogConfiguration"]),
  }
}
function toServiceNowConfiguration(root: JSONValue): ServiceNowConfiguration {
  return prt.readObj({
    required: {
      "HostUrl": "s",
      "SecretArn": "s",
      "ServiceNowBuildVersion": toServiceNowBuildVersionType,
    },
    optional: {
      "KnowledgeArticleConfiguration": toServiceNowKnowledgeArticleConfiguration,
      "ServiceCatalogConfiguration": toServiceNowServiceCatalogConfiguration,
    },
  }, root);
}

// refs: 3 - tags: input, named, enum, output
export type ServiceNowBuildVersionType =
| "LONDON"
| "OTHERS"
;

function toServiceNowBuildVersionType(root: JSONValue): ServiceNowBuildVersionType | null {
  return ( false
    || root == "LONDON"
    || root == "OTHERS"
  ) ? root : null;
}

// refs: 3 - tags: input, named, interface, output
export interface ServiceNowKnowledgeArticleConfiguration {
  CrawlAttachments?: boolean | null;
  IncludeAttachmentFilePatterns?: string[] | null;
  ExcludeAttachmentFilePatterns?: string[] | null;
  DocumentDataFieldName: string;
  DocumentTitleFieldName?: string | null;
  FieldMappings?: DataSourceToIndexFieldMapping[] | null;
}
function fromServiceNowKnowledgeArticleConfiguration(input?: ServiceNowKnowledgeArticleConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
    FieldMappings: input["FieldMappings"]?.map(x => fromDataSourceToIndexFieldMapping(x)),
  }
}
function toServiceNowKnowledgeArticleConfiguration(root: JSONValue): ServiceNowKnowledgeArticleConfiguration {
  return prt.readObj({
    required: {
      "DocumentDataFieldName": "s",
    },
    optional: {
      "CrawlAttachments": "b",
      "IncludeAttachmentFilePatterns": ["s"],
      "ExcludeAttachmentFilePatterns": ["s"],
      "DocumentTitleFieldName": "s",
      "FieldMappings": [toDataSourceToIndexFieldMapping],
    },
  }, root);
}

// refs: 3 - tags: input, named, interface, output
export interface ServiceNowServiceCatalogConfiguration {
  CrawlAttachments?: boolean | null;
  IncludeAttachmentFilePatterns?: string[] | null;
  ExcludeAttachmentFilePatterns?: string[] | null;
  DocumentDataFieldName: string;
  DocumentTitleFieldName?: string | null;
  FieldMappings?: DataSourceToIndexFieldMapping[] | null;
}
function fromServiceNowServiceCatalogConfiguration(input?: ServiceNowServiceCatalogConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
    FieldMappings: input["FieldMappings"]?.map(x => fromDataSourceToIndexFieldMapping(x)),
  }
}
function toServiceNowServiceCatalogConfiguration(root: JSONValue): ServiceNowServiceCatalogConfiguration {
  return prt.readObj({
    required: {
      "DocumentDataFieldName": "s",
    },
    optional: {
      "CrawlAttachments": "b",
      "IncludeAttachmentFilePatterns": ["s"],
      "ExcludeAttachmentFilePatterns": ["s"],
      "DocumentTitleFieldName": "s",
      "FieldMappings": [toDataSourceToIndexFieldMapping],
    },
  }, root);
}

// refs: 5 - tags: input, named, interface, output
export interface Tag {
  Key: string;
  Value: string;
}
function fromTag(input?: Tag | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}
function toTag(root: JSONValue): Tag {
  return prt.readObj({
    required: {
      "Key": "s",
      "Value": "s",
    },
    optional: {},
  }, root);
}

// refs: 3 - tags: input, named, enum, output
export type FaqFileFormat =
| "CSV"
| "CSV_WITH_HEADER"
| "JSON"
;

function toFaqFileFormat(root: JSONValue): FaqFileFormat | null {
  return ( false
    || root == "CSV"
    || root == "CSV_WITH_HEADER"
    || root == "JSON"
  ) ? root : null;
}

// refs: 3 - tags: input, named, enum, output
export type IndexEdition =
| "DEVELOPER_EDITION"
| "ENTERPRISE_EDITION"
;

function toIndexEdition(root: JSONValue): IndexEdition | null {
  return ( false
    || root == "DEVELOPER_EDITION"
    || root == "ENTERPRISE_EDITION"
  ) ? root : null;
}

// refs: 2 - tags: input, named, interface, output
export interface ServerSideEncryptionConfiguration {
  KmsKeyId?: string | null;
}
function fromServerSideEncryptionConfiguration(input?: ServerSideEncryptionConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}
function toServerSideEncryptionConfiguration(root: JSONValue): ServerSideEncryptionConfiguration {
  return prt.readObj({
    required: {},
    optional: {
      "KmsKeyId": "s",
    },
  }, root);
}

// refs: 1 - tags: input, named, interface
export interface TimeRange {
  StartTime?: Date | number | null;
  EndTime?: Date | number | null;
}
function fromTimeRange(input?: TimeRange | null): JSONValue {
  if (!input) return input;
  return {...input,
    StartTime: prt.serializeDate_unixTimestamp(input["StartTime"]),
    EndTime: prt.serializeDate_unixTimestamp(input["EndTime"]),
  }
}

// refs: 2 - tags: input, named, enum, output
export type DataSourceSyncJobStatus =
| "FAILED"
| "SUCCEEDED"
| "SYNCING"
| "INCOMPLETE"
| "STOPPING"
| "ABORTED"
| "SYNCING_INDEXING"
;

function toDataSourceSyncJobStatus(root: JSONValue): DataSourceSyncJobStatus | null {
  return ( false
    || root == "FAILED"
    || root == "SUCCEEDED"
    || root == "SYNCING"
    || root == "INCOMPLETE"
    || root == "STOPPING"
    || root == "ABORTED"
    || root == "SYNCING_INDEXING"
  ) ? root : null;
}

// refs: 4 - tags: input, named, interface, recursed, recursive
export interface AttributeFilter {
  AndAllFilters?: AttributeFilter[] | null;
  OrAllFilters?: AttributeFilter[] | null;
  NotFilter?: AttributeFilter | null;
  EqualsTo?: DocumentAttribute | null;
  ContainsAll?: DocumentAttribute | null;
  ContainsAny?: DocumentAttribute | null;
  GreaterThan?: DocumentAttribute | null;
  GreaterThanOrEquals?: DocumentAttribute | null;
  LessThan?: DocumentAttribute | null;
  LessThanOrEquals?: DocumentAttribute | null;
}
function fromAttributeFilter(input?: AttributeFilter | null): JSONValue {
  if (!input) return input;
  return {...input,
    AndAllFilters: input["AndAllFilters"]?.map(x => fromAttributeFilter(x)),
    OrAllFilters: input["OrAllFilters"]?.map(x => fromAttributeFilter(x)),
    NotFilter: fromAttributeFilter(input["NotFilter"]),
    EqualsTo: fromDocumentAttribute(input["EqualsTo"]),
    ContainsAll: fromDocumentAttribute(input["ContainsAll"]),
    ContainsAny: fromDocumentAttribute(input["ContainsAny"]),
    GreaterThan: fromDocumentAttribute(input["GreaterThan"]),
    GreaterThanOrEquals: fromDocumentAttribute(input["GreaterThanOrEquals"]),
    LessThan: fromDocumentAttribute(input["LessThan"]),
    LessThanOrEquals: fromDocumentAttribute(input["LessThanOrEquals"]),
  }
}

// refs: 1 - tags: input, named, interface
export interface Facet {
  DocumentAttributeKey?: string | null;
}
function fromFacet(input?: Facet | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}

// refs: 2 - tags: input, named, enum, output
export type QueryResultType =
| "DOCUMENT"
| "QUESTION_ANSWER"
| "ANSWER"
;

function toQueryResultType(root: JSONValue): QueryResultType | null {
  return ( false
    || root == "DOCUMENT"
    || root == "QUESTION_ANSWER"
    || root == "ANSWER"
  ) ? root : null;
}

// refs: 1 - tags: input, named, interface
export interface SortingConfiguration {
  DocumentAttributeKey: string;
  SortOrder: SortOrder;
}
function fromSortingConfiguration(input?: SortingConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}

// refs: 1 - tags: input, named, enum
export type SortOrder =
| "DESC"
| "ASC"
;


// refs: 1 - tags: input, named, interface
export interface ClickFeedback {
  ResultId: string;
  ClickTime: Date | number;
}
function fromClickFeedback(input?: ClickFeedback | null): JSONValue {
  if (!input) return input;
  return {...input,
    ClickTime: prt.serializeDate_unixTimestamp(input["ClickTime"]),
  }
}

// refs: 1 - tags: input, named, interface
export interface RelevanceFeedback {
  ResultId: string;
  RelevanceValue: RelevanceType;
}
function fromRelevanceFeedback(input?: RelevanceFeedback | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}

// refs: 1 - tags: input, named, enum
export type RelevanceType =
| "RELEVANT"
| "NOT_RELEVANT"
;


// refs: 2 - tags: input, named, interface, output
export interface DocumentMetadataConfiguration {
  Name: string;
  Type: DocumentAttributeValueType;
  Relevance?: Relevance | null;
  Search?: Search | null;
}
function fromDocumentMetadataConfiguration(input?: DocumentMetadataConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
    Relevance: fromRelevance(input["Relevance"]),
    Search: fromSearch(input["Search"]),
  }
}
function toDocumentMetadataConfiguration(root: JSONValue): DocumentMetadataConfiguration {
  return prt.readObj({
    required: {
      "Name": "s",
      "Type": toDocumentAttributeValueType,
    },
    optional: {
      "Relevance": toRelevance,
      "Search": toSearch,
    },
  }, root);
}

// refs: 3 - tags: input, named, enum, output
export type DocumentAttributeValueType =
| "STRING_VALUE"
| "STRING_LIST_VALUE"
| "LONG_VALUE"
| "DATE_VALUE"
;

function toDocumentAttributeValueType(root: JSONValue): DocumentAttributeValueType | null {
  return ( false
    || root == "STRING_VALUE"
    || root == "STRING_LIST_VALUE"
    || root == "LONG_VALUE"
    || root == "DATE_VALUE"
  ) ? root : null;
}

// refs: 2 - tags: input, named, interface, output
export interface Relevance {
  Freshness?: boolean | null;
  Importance?: number | null;
  Duration?: string | null;
  RankOrder?: Order | null;
  ValueImportanceMap?: { [key: string]: number } | null;
}
function fromRelevance(input?: Relevance | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}
function toRelevance(root: JSONValue): Relevance {
  return prt.readObj({
    required: {},
    optional: {
      "Freshness": "b",
      "Importance": "n",
      "Duration": "s",
      "RankOrder": toOrder,
      "ValueImportanceMap": x => prt.readMap(String, Number, x),
    },
  }, root);
}

// refs: 2 - tags: input, named, enum, output
export type Order =
| "ASCENDING"
| "DESCENDING"
;

function toOrder(root: JSONValue): Order | null {
  return ( false
    || root == "ASCENDING"
    || root == "DESCENDING"
  ) ? root : null;
}

// refs: 2 - tags: input, named, interface, output
export interface Search {
  Facetable?: boolean | null;
  Searchable?: boolean | null;
  Displayable?: boolean | null;
  Sortable?: boolean | null;
}
function fromSearch(input?: Search | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}
function toSearch(root: JSONValue): Search {
  return prt.readObj({
    required: {},
    optional: {
      "Facetable": "b",
      "Searchable": "b",
      "Displayable": "b",
      "Sortable": "b",
    },
  }, root);
}

// refs: 2 - tags: input, named, interface, output
export interface CapacityUnitsConfiguration {
  StorageCapacityUnits: number;
  QueryCapacityUnits: number;
}
function fromCapacityUnitsConfiguration(input?: CapacityUnitsConfiguration | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}
function toCapacityUnitsConfiguration(root: JSONValue): CapacityUnitsConfiguration {
  return prt.readObj({
    required: {
      "StorageCapacityUnits": "n",
      "QueryCapacityUnits": "n",
    },
    optional: {},
  }, root);
}

// refs: 1 - tags: output, named, interface
export interface BatchDeleteDocumentResponseFailedDocument {
  Id?: string | null;
  ErrorCode?: ErrorCode | null;
  ErrorMessage?: string | null;
}
function toBatchDeleteDocumentResponseFailedDocument(root: JSONValue): BatchDeleteDocumentResponseFailedDocument {
  return prt.readObj({
    required: {},
    optional: {
      "Id": "s",
      "ErrorCode": toErrorCode,
      "ErrorMessage": "s",
    },
  }, root);
}

// refs: 3 - tags: output, named, enum
export type ErrorCode =
| "InternalError"
| "InvalidRequest"
;
function toErrorCode(root: JSONValue): ErrorCode | null {
  return ( false
    || root == "InternalError"
    || root == "InvalidRequest"
  ) ? root : null;
}

// refs: 1 - tags: output, named, interface
export interface BatchPutDocumentResponseFailedDocument {
  Id?: string | null;
  ErrorCode?: ErrorCode | null;
  ErrorMessage?: string | null;
}
function toBatchPutDocumentResponseFailedDocument(root: JSONValue): BatchPutDocumentResponseFailedDocument {
  return prt.readObj({
    required: {},
    optional: {
      "Id": "s",
      "ErrorCode": toErrorCode,
      "ErrorMessage": "s",
    },
  }, root);
}

// refs: 2 - tags: output, named, enum
export type DataSourceStatus =
| "CREATING"
| "DELETING"
| "FAILED"
| "UPDATING"
| "ACTIVE"
;
function toDataSourceStatus(root: JSONValue): DataSourceStatus | null {
  return ( false
    || root == "CREATING"
    || root == "DELETING"
    || root == "FAILED"
    || root == "UPDATING"
    || root == "ACTIVE"
  ) ? root : null;
}

// refs: 2 - tags: output, named, enum
export type FaqStatus =
| "CREATING"
| "UPDATING"
| "ACTIVE"
| "DELETING"
| "FAILED"
;
function toFaqStatus(root: JSONValue): FaqStatus | null {
  return ( false
    || root == "CREATING"
    || root == "UPDATING"
    || root == "ACTIVE"
    || root == "DELETING"
    || root == "FAILED"
  ) ? root : null;
}

// refs: 2 - tags: output, named, enum
export type IndexStatus =
| "CREATING"
| "ACTIVE"
| "DELETING"
| "FAILED"
| "UPDATING"
| "SYSTEM_UPDATING"
;
function toIndexStatus(root: JSONValue): IndexStatus | null {
  return ( false
    || root == "CREATING"
    || root == "ACTIVE"
    || root == "DELETING"
    || root == "FAILED"
    || root == "UPDATING"
    || root == "SYSTEM_UPDATING"
  ) ? root : null;
}

// refs: 1 - tags: output, named, interface
export interface IndexStatistics {
  FaqStatistics: FaqStatistics;
  TextDocumentStatistics: TextDocumentStatistics;
}
function toIndexStatistics(root: JSONValue): IndexStatistics {
  return prt.readObj({
    required: {
      "FaqStatistics": toFaqStatistics,
      "TextDocumentStatistics": toTextDocumentStatistics,
    },
    optional: {},
  }, root);
}

// refs: 1 - tags: output, named, interface
export interface FaqStatistics {
  IndexedQuestionAnswersCount: number;
}
function toFaqStatistics(root: JSONValue): FaqStatistics {
  return prt.readObj({
    required: {
      "IndexedQuestionAnswersCount": "n",
    },
    optional: {},
  }, root);
}

// refs: 1 - tags: output, named, interface
export interface TextDocumentStatistics {
  IndexedTextDocumentsCount: number;
  IndexedTextBytes: number;
}
function toTextDocumentStatistics(root: JSONValue): TextDocumentStatistics {
  return prt.readObj({
    required: {
      "IndexedTextDocumentsCount": "n",
      "IndexedTextBytes": "n",
    },
    optional: {},
  }, root);
}

// refs: 1 - tags: output, named, interface
export interface DataSourceSyncJob {
  ExecutionId?: string | null;
  StartTime?: Date | number | null;
  EndTime?: Date | number | null;
  Status?: DataSourceSyncJobStatus | null;
  ErrorMessage?: string | null;
  ErrorCode?: ErrorCode | null;
  DataSourceErrorCode?: string | null;
  Metrics?: DataSourceSyncJobMetrics | null;
}
function toDataSourceSyncJob(root: JSONValue): DataSourceSyncJob {
  return prt.readObj({
    required: {},
    optional: {
      "ExecutionId": "s",
      "StartTime": "d",
      "EndTime": "d",
      "Status": toDataSourceSyncJobStatus,
      "ErrorMessage": "s",
      "ErrorCode": toErrorCode,
      "DataSourceErrorCode": "s",
      "Metrics": toDataSourceSyncJobMetrics,
    },
  }, root);
}

// refs: 1 - tags: output, named, interface
export interface DataSourceSyncJobMetrics {
  DocumentsAdded?: string | null;
  DocumentsModified?: string | null;
  DocumentsDeleted?: string | null;
  DocumentsFailed?: string | null;
  DocumentsScanned?: string | null;
}
function toDataSourceSyncJobMetrics(root: JSONValue): DataSourceSyncJobMetrics {
  return prt.readObj({
    required: {},
    optional: {
      "DocumentsAdded": "s",
      "DocumentsModified": "s",
      "DocumentsDeleted": "s",
      "DocumentsFailed": "s",
      "DocumentsScanned": "s",
    },
  }, root);
}

// refs: 1 - tags: output, named, interface
export interface DataSourceSummary {
  Name?: string | null;
  Id?: string | null;
  Type?: DataSourceType | null;
  CreatedAt?: Date | number | null;
  UpdatedAt?: Date | number | null;
  Status?: DataSourceStatus | null;
}
function toDataSourceSummary(root: JSONValue): DataSourceSummary {
  return prt.readObj({
    required: {},
    optional: {
      "Name": "s",
      "Id": "s",
      "Type": toDataSourceType,
      "CreatedAt": "d",
      "UpdatedAt": "d",
      "Status": toDataSourceStatus,
    },
  }, root);
}

// refs: 1 - tags: output, named, interface
export interface FaqSummary {
  Id?: string | null;
  Name?: string | null;
  Status?: FaqStatus | null;
  CreatedAt?: Date | number | null;
  UpdatedAt?: Date | number | null;
  FileFormat?: FaqFileFormat | null;
}
function toFaqSummary(root: JSONValue): FaqSummary {
  return prt.readObj({
    required: {},
    optional: {
      "Id": "s",
      "Name": "s",
      "Status": toFaqStatus,
      "CreatedAt": "d",
      "UpdatedAt": "d",
      "FileFormat": toFaqFileFormat,
    },
  }, root);
}

// refs: 1 - tags: output, named, interface
export interface IndexConfigurationSummary {
  Name?: string | null;
  Id?: string | null;
  Edition?: IndexEdition | null;
  CreatedAt: Date | number;
  UpdatedAt: Date | number;
  Status: IndexStatus;
}
function toIndexConfigurationSummary(root: JSONValue): IndexConfigurationSummary {
  return prt.readObj({
    required: {
      "CreatedAt": "d",
      "UpdatedAt": "d",
      "Status": toIndexStatus,
    },
    optional: {
      "Name": "s",
      "Id": "s",
      "Edition": toIndexEdition,
    },
  }, root);
}

// refs: 1 - tags: output, named, interface
export interface QueryResultItem {
  Id?: string | null;
  Type?: QueryResultType | null;
  AdditionalAttributes?: AdditionalResultAttribute[] | null;
  DocumentId?: string | null;
  DocumentTitle?: TextWithHighlights | null;
  DocumentExcerpt?: TextWithHighlights | null;
  DocumentURI?: string | null;
  DocumentAttributes?: DocumentAttribute[] | null;
  ScoreAttributes?: ScoreAttributes | null;
}
function toQueryResultItem(root: JSONValue): QueryResultItem {
  return prt.readObj({
    required: {},
    optional: {
      "Id": "s",
      "Type": toQueryResultType,
      "AdditionalAttributes": [toAdditionalResultAttribute],
      "DocumentId": "s",
      "DocumentTitle": toTextWithHighlights,
      "DocumentExcerpt": toTextWithHighlights,
      "DocumentURI": "s",
      "DocumentAttributes": [toDocumentAttribute],
      "ScoreAttributes": toScoreAttributes,
    },
  }, root);
}

// refs: 1 - tags: output, named, interface
export interface AdditionalResultAttribute {
  Key: string;
  ValueType: AdditionalResultAttributeValueType;
  Value: AdditionalResultAttributeValue;
}
function toAdditionalResultAttribute(root: JSONValue): AdditionalResultAttribute {
  return prt.readObj({
    required: {
      "Key": "s",
      "ValueType": toAdditionalResultAttributeValueType,
      "Value": toAdditionalResultAttributeValue,
    },
    optional: {},
  }, root);
}

// refs: 1 - tags: output, named, enum
export type AdditionalResultAttributeValueType =
| "TEXT_WITH_HIGHLIGHTS_VALUE"
;
function toAdditionalResultAttributeValueType(root: JSONValue): AdditionalResultAttributeValueType | null {
  return ( false
    || root == "TEXT_WITH_HIGHLIGHTS_VALUE"
  ) ? root : null;
}

// refs: 1 - tags: output, named, interface
export interface AdditionalResultAttributeValue {
  TextWithHighlightsValue?: TextWithHighlights | null;
}
function toAdditionalResultAttributeValue(root: JSONValue): AdditionalResultAttributeValue {
  return prt.readObj({
    required: {},
    optional: {
      "TextWithHighlightsValue": toTextWithHighlights,
    },
  }, root);
}

// refs: 3 - tags: output, named, interface
export interface TextWithHighlights {
  Text?: string | null;
  Highlights?: Highlight[] | null;
}
function toTextWithHighlights(root: JSONValue): TextWithHighlights {
  return prt.readObj({
    required: {},
    optional: {
      "Text": "s",
      "Highlights": [toHighlight],
    },
  }, root);
}

// refs: 3 - tags: output, named, interface
export interface Highlight {
  BeginOffset: number;
  EndOffset: number;
  TopAnswer?: boolean | null;
}
function toHighlight(root: JSONValue): Highlight {
  return prt.readObj({
    required: {
      "BeginOffset": "n",
      "EndOffset": "n",
    },
    optional: {
      "TopAnswer": "b",
    },
  }, root);
}

// refs: 1 - tags: output, named, interface
export interface ScoreAttributes {
  ScoreConfidence?: ScoreConfidence | null;
}
function toScoreAttributes(root: JSONValue): ScoreAttributes {
  return prt.readObj({
    required: {},
    optional: {
      "ScoreConfidence": toScoreConfidence,
    },
  }, root);
}

// refs: 1 - tags: output, named, enum
export type ScoreConfidence =
| "VERY_HIGH"
| "HIGH"
| "MEDIUM"
| "LOW"
;
function toScoreConfidence(root: JSONValue): ScoreConfidence | null {
  return ( false
    || root == "VERY_HIGH"
    || root == "HIGH"
    || root == "MEDIUM"
    || root == "LOW"
  ) ? root : null;
}

// refs: 1 - tags: output, named, interface
export interface FacetResult {
  DocumentAttributeKey?: string | null;
  DocumentAttributeValueType?: DocumentAttributeValueType | null;
  DocumentAttributeValueCountPairs?: DocumentAttributeValueCountPair[] | null;
}
function toFacetResult(root: JSONValue): FacetResult {
  return prt.readObj({
    required: {},
    optional: {
      "DocumentAttributeKey": "s",
      "DocumentAttributeValueType": toDocumentAttributeValueType,
      "DocumentAttributeValueCountPairs": [toDocumentAttributeValueCountPair],
    },
  }, root);
}

// refs: 1 - tags: output, named, interface
export interface DocumentAttributeValueCountPair {
  DocumentAttributeValue?: DocumentAttributeValue | null;
  Count?: number | null;
}
function toDocumentAttributeValueCountPair(root: JSONValue): DocumentAttributeValueCountPair {
  return prt.readObj({
    required: {},
    optional: {
      "DocumentAttributeValue": toDocumentAttributeValue,
      "Count": "n",
    },
  }, root);
}
