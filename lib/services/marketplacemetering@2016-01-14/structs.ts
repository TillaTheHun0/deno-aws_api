// Autogenerated API structures for: AWSMarketplace Metering

import * as cmnP from "../../encoding/common.ts";

// refs: 1 - tags: named, input
export interface BatchMeterUsageRequest {
  UsageRecords: UsageRecord[];
  ProductCode: string;
}

// refs: 1 - tags: named, input
export interface MeterUsageRequest {
  ProductCode: string;
  Timestamp: Date | number;
  UsageDimension: string;
  UsageQuantity?: number | null;
  DryRun?: boolean | null;
  UsageAllocations?: UsageAllocation[] | null;
}

// refs: 1 - tags: named, input
export interface RegisterUsageRequest {
  ProductCode: string;
  PublicKeyVersion: number;
  Nonce?: string | null;
}

// refs: 1 - tags: named, input
export interface ResolveCustomerRequest {
  RegistrationToken: string;
}

// refs: 1 - tags: named, output
export interface BatchMeterUsageResult {
  Results?: UsageRecordResult[] | null;
  UnprocessedRecords?: UsageRecord[] | null;
}

// refs: 1 - tags: named, output
export interface MeterUsageResult {
  MeteringRecordId?: string | null;
}

// refs: 1 - tags: named, output
export interface RegisterUsageResult {
  PublicKeyRotationTimestamp?: Date | number | null;
  Signature?: string | null;
}

// refs: 1 - tags: named, output
export interface ResolveCustomerResult {
  CustomerIdentifier?: string | null;
  ProductCode?: string | null;
}

// refs: 3 - tags: input, named, interface, output
export interface UsageRecord {
  Timestamp: Date | number;
  CustomerIdentifier: string;
  Dimension: string;
  Quantity?: number | null;
  UsageAllocations?: UsageAllocation[] | null;
}

// refs: 4 - tags: input, named, interface, output
export interface UsageAllocation {
  AllocatedUsageQuantity: number;
  Tags?: Tag[] | null;
}

// refs: 4 - tags: input, named, interface, output
export interface Tag {
  Key: string;
  Value: string;
}

// refs: 1 - tags: output, named, interface
export interface UsageRecordResult {
  UsageRecord?: UsageRecord | null;
  MeteringRecordId?: string | null;
  Status?: UsageRecordResultStatus | null;
}

// refs: 1 - tags: output, named, enum
export type UsageRecordResultStatus =
| "Success"
| "CustomerNotSubscribed"
| "DuplicateRecord"
| cmnP.UnexpectedEnumValue;
