// Autogenerated API client for: AWS CloudTrail

import type { ServiceClient, ApiFactory, ApiMetadata } from '../../client/common.ts';
interface RequestConfig {
  abortSignal?: AbortSignal;
}

import { JSONObject, JSONValue } from '../../encoding/json.ts';
import * as prt from "../../encoding/json.ts";

export default class CloudTrail {
  #client: ServiceClient;
  constructor(apiFactory: ApiFactory) {
    this.#client = apiFactory.buildServiceClient(CloudTrail.ApiMetadata);
  }

  static ApiMetadata: ApiMetadata = {
    "apiVersion": "2013-11-01",
    "endpointPrefix": "cloudtrail",
    "jsonVersion": "1.1",
    "protocol": "json",
    "serviceAbbreviation": "CloudTrail",
    "serviceFullName": "AWS CloudTrail",
    "serviceId": "CloudTrail",
    "signatureVersion": "v4",
    "targetPrefix": "com.amazonaws.cloudtrail.v20131101.CloudTrail_20131101",
    "uid": "cloudtrail-2013-11-01"
  };

  async addTags(
    {abortSignal, ...params}: RequestConfig & AddTagsRequest,
  ): Promise<AddTagsResponse> {
    const body: JSONObject = {...params,
    TagsList: params["TagsList"]?.map(x => fromTag(x)),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "AddTags",
    });
    return prt.readObj({
      required: {},
      optional: {},
    }, await resp.json());
  }

  async createTrail(
    {abortSignal, ...params}: RequestConfig & CreateTrailRequest,
  ): Promise<CreateTrailResponse> {
    const body: JSONObject = {...params,
    TagsList: params["TagsList"]?.map(x => fromTag(x)),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "CreateTrail",
    });
    return prt.readObj({
      required: {},
      optional: {
        "Name": "s",
        "S3BucketName": "s",
        "S3KeyPrefix": "s",
        "SnsTopicName": "s",
        "SnsTopicARN": "s",
        "IncludeGlobalServiceEvents": "b",
        "IsMultiRegionTrail": "b",
        "TrailARN": "s",
        "LogFileValidationEnabled": "b",
        "CloudWatchLogsLogGroupArn": "s",
        "CloudWatchLogsRoleArn": "s",
        "KmsKeyId": "s",
        "IsOrganizationTrail": "b",
      },
    }, await resp.json());
  }

  async deleteTrail(
    {abortSignal, ...params}: RequestConfig & DeleteTrailRequest,
  ): Promise<DeleteTrailResponse> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "DeleteTrail",
    });
    return prt.readObj({
      required: {},
      optional: {},
    }, await resp.json());
  }

  async describeTrails(
    {abortSignal, ...params}: RequestConfig & DescribeTrailsRequest = {},
  ): Promise<DescribeTrailsResponse> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "DescribeTrails",
    });
    return prt.readObj({
      required: {},
      optional: {
        "trailList": [toTrail],
      },
    }, await resp.json());
  }

  async getEventSelectors(
    {abortSignal, ...params}: RequestConfig & GetEventSelectorsRequest,
  ): Promise<GetEventSelectorsResponse> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "GetEventSelectors",
    });
    return prt.readObj({
      required: {},
      optional: {
        "TrailARN": "s",
        "EventSelectors": [toEventSelector],
      },
    }, await resp.json());
  }

  async getInsightSelectors(
    {abortSignal, ...params}: RequestConfig & GetInsightSelectorsRequest,
  ): Promise<GetInsightSelectorsResponse> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "GetInsightSelectors",
    });
    return prt.readObj({
      required: {},
      optional: {
        "TrailARN": "s",
        "InsightSelectors": [toInsightSelector],
      },
    }, await resp.json());
  }

  async getTrail(
    {abortSignal, ...params}: RequestConfig & GetTrailRequest,
  ): Promise<GetTrailResponse> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "GetTrail",
    });
    return prt.readObj({
      required: {},
      optional: {
        "Trail": toTrail,
      },
    }, await resp.json());
  }

  async getTrailStatus(
    {abortSignal, ...params}: RequestConfig & GetTrailStatusRequest,
  ): Promise<GetTrailStatusResponse> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "GetTrailStatus",
    });
    return prt.readObj({
      required: {},
      optional: {
        "IsLogging": "b",
        "LatestDeliveryError": "s",
        "LatestNotificationError": "s",
        "LatestDeliveryTime": "d",
        "LatestNotificationTime": "d",
        "StartLoggingTime": "d",
        "StopLoggingTime": "d",
        "LatestCloudWatchLogsDeliveryError": "s",
        "LatestCloudWatchLogsDeliveryTime": "d",
        "LatestDigestDeliveryTime": "d",
        "LatestDigestDeliveryError": "s",
        "LatestDeliveryAttemptTime": "s",
        "LatestNotificationAttemptTime": "s",
        "LatestNotificationAttemptSucceeded": "s",
        "LatestDeliveryAttemptSucceeded": "s",
        "TimeLoggingStarted": "s",
        "TimeLoggingStopped": "s",
      },
    }, await resp.json());
  }

  async listPublicKeys(
    {abortSignal, ...params}: RequestConfig & ListPublicKeysRequest = {},
  ): Promise<ListPublicKeysResponse> {
    const body: JSONObject = {...params,
    StartTime: prt.serializeDate_unixTimestamp(params["StartTime"]),
    EndTime: prt.serializeDate_unixTimestamp(params["EndTime"]),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "ListPublicKeys",
    });
    return prt.readObj({
      required: {},
      optional: {
        "PublicKeyList": [toPublicKey],
        "NextToken": "s",
      },
    }, await resp.json());
  }

  async listTags(
    {abortSignal, ...params}: RequestConfig & ListTagsRequest,
  ): Promise<ListTagsResponse> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "ListTags",
    });
    return prt.readObj({
      required: {},
      optional: {
        "ResourceTagList": [toResourceTag],
        "NextToken": "s",
      },
    }, await resp.json());
  }

  async listTrails(
    {abortSignal, ...params}: RequestConfig & ListTrailsRequest = {},
  ): Promise<ListTrailsResponse> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "ListTrails",
    });
    return prt.readObj({
      required: {},
      optional: {
        "Trails": [toTrailInfo],
        "NextToken": "s",
      },
    }, await resp.json());
  }

  async lookupEvents(
    {abortSignal, ...params}: RequestConfig & LookupEventsRequest = {},
  ): Promise<LookupEventsResponse> {
    const body: JSONObject = {...params,
    LookupAttributes: params["LookupAttributes"]?.map(x => fromLookupAttribute(x)),
    StartTime: prt.serializeDate_unixTimestamp(params["StartTime"]),
    EndTime: prt.serializeDate_unixTimestamp(params["EndTime"]),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "LookupEvents",
    });
    return prt.readObj({
      required: {},
      optional: {
        "Events": [toEvent],
        "NextToken": "s",
      },
    }, await resp.json());
  }

  async putEventSelectors(
    {abortSignal, ...params}: RequestConfig & PutEventSelectorsRequest,
  ): Promise<PutEventSelectorsResponse> {
    const body: JSONObject = {...params,
    EventSelectors: params["EventSelectors"]?.map(x => fromEventSelector(x)),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "PutEventSelectors",
    });
    return prt.readObj({
      required: {},
      optional: {
        "TrailARN": "s",
        "EventSelectors": [toEventSelector],
      },
    }, await resp.json());
  }

  async putInsightSelectors(
    {abortSignal, ...params}: RequestConfig & PutInsightSelectorsRequest,
  ): Promise<PutInsightSelectorsResponse> {
    const body: JSONObject = {...params,
    InsightSelectors: params["InsightSelectors"]?.map(x => fromInsightSelector(x)),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "PutInsightSelectors",
    });
    return prt.readObj({
      required: {},
      optional: {
        "TrailARN": "s",
        "InsightSelectors": [toInsightSelector],
      },
    }, await resp.json());
  }

  async removeTags(
    {abortSignal, ...params}: RequestConfig & RemoveTagsRequest,
  ): Promise<RemoveTagsResponse> {
    const body: JSONObject = {...params,
    TagsList: params["TagsList"]?.map(x => fromTag(x)),
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "RemoveTags",
    });
    return prt.readObj({
      required: {},
      optional: {},
    }, await resp.json());
  }

  async startLogging(
    {abortSignal, ...params}: RequestConfig & StartLoggingRequest,
  ): Promise<StartLoggingResponse> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "StartLogging",
    });
    return prt.readObj({
      required: {},
      optional: {},
    }, await resp.json());
  }

  async stopLogging(
    {abortSignal, ...params}: RequestConfig & StopLoggingRequest,
  ): Promise<StopLoggingResponse> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "StopLogging",
    });
    return prt.readObj({
      required: {},
      optional: {},
    }, await resp.json());
  }

  async updateTrail(
    {abortSignal, ...params}: RequestConfig & UpdateTrailRequest,
  ): Promise<UpdateTrailResponse> {
    const body: JSONObject = {...params,
  };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "UpdateTrail",
    });
    return prt.readObj({
      required: {},
      optional: {
        "Name": "s",
        "S3BucketName": "s",
        "S3KeyPrefix": "s",
        "SnsTopicName": "s",
        "SnsTopicARN": "s",
        "IncludeGlobalServiceEvents": "b",
        "IsMultiRegionTrail": "b",
        "TrailARN": "s",
        "LogFileValidationEnabled": "b",
        "CloudWatchLogsLogGroupArn": "s",
        "CloudWatchLogsRoleArn": "s",
        "KmsKeyId": "s",
        "IsOrganizationTrail": "b",
      },
    }, await resp.json());
  }

}

// refs: 1 - tags: named, input
export interface AddTagsRequest {
  ResourceId: string;
  TagsList?: Tag[] | null;
}

// refs: 1 - tags: named, input
export interface CreateTrailRequest {
  Name: string;
  S3BucketName: string;
  S3KeyPrefix?: string | null;
  SnsTopicName?: string | null;
  IncludeGlobalServiceEvents?: boolean | null;
  IsMultiRegionTrail?: boolean | null;
  EnableLogFileValidation?: boolean | null;
  CloudWatchLogsLogGroupArn?: string | null;
  CloudWatchLogsRoleArn?: string | null;
  KmsKeyId?: string | null;
  IsOrganizationTrail?: boolean | null;
  TagsList?: Tag[] | null;
}

// refs: 1 - tags: named, input
export interface DeleteTrailRequest {
  Name: string;
}

// refs: 1 - tags: named, input
export interface DescribeTrailsRequest {
  trailNameList?: string[] | null;
  includeShadowTrails?: boolean | null;
}

// refs: 1 - tags: named, input
export interface GetEventSelectorsRequest {
  TrailName: string;
}

// refs: 1 - tags: named, input
export interface GetInsightSelectorsRequest {
  TrailName: string;
}

// refs: 1 - tags: named, input
export interface GetTrailRequest {
  Name: string;
}

// refs: 1 - tags: named, input
export interface GetTrailStatusRequest {
  Name: string;
}

// refs: 1 - tags: named, input
export interface ListPublicKeysRequest {
  StartTime?: Date | number | null;
  EndTime?: Date | number | null;
  NextToken?: string | null;
}

// refs: 1 - tags: named, input
export interface ListTagsRequest {
  ResourceIdList: string[];
  NextToken?: string | null;
}

// refs: 1 - tags: named, input
export interface ListTrailsRequest {
  NextToken?: string | null;
}

// refs: 1 - tags: named, input
export interface LookupEventsRequest {
  LookupAttributes?: LookupAttribute[] | null;
  StartTime?: Date | number | null;
  EndTime?: Date | number | null;
  EventCategory?: EventCategory | null;
  MaxResults?: number | null;
  NextToken?: string | null;
}

// refs: 1 - tags: named, input
export interface PutEventSelectorsRequest {
  TrailName: string;
  EventSelectors: EventSelector[];
}

// refs: 1 - tags: named, input
export interface PutInsightSelectorsRequest {
  TrailName: string;
  InsightSelectors: InsightSelector[];
}

// refs: 1 - tags: named, input
export interface RemoveTagsRequest {
  ResourceId: string;
  TagsList?: Tag[] | null;
}

// refs: 1 - tags: named, input
export interface StartLoggingRequest {
  Name: string;
}

// refs: 1 - tags: named, input
export interface StopLoggingRequest {
  Name: string;
}

// refs: 1 - tags: named, input
export interface UpdateTrailRequest {
  Name: string;
  S3BucketName?: string | null;
  S3KeyPrefix?: string | null;
  SnsTopicName?: string | null;
  IncludeGlobalServiceEvents?: boolean | null;
  IsMultiRegionTrail?: boolean | null;
  EnableLogFileValidation?: boolean | null;
  CloudWatchLogsLogGroupArn?: string | null;
  CloudWatchLogsRoleArn?: string | null;
  KmsKeyId?: string | null;
  IsOrganizationTrail?: boolean | null;
}

// refs: 1 - tags: named, output
export interface AddTagsResponse {
}

// refs: 1 - tags: named, output
export interface CreateTrailResponse {
  Name?: string | null;
  S3BucketName?: string | null;
  S3KeyPrefix?: string | null;
  SnsTopicName?: string | null;
  SnsTopicARN?: string | null;
  IncludeGlobalServiceEvents?: boolean | null;
  IsMultiRegionTrail?: boolean | null;
  TrailARN?: string | null;
  LogFileValidationEnabled?: boolean | null;
  CloudWatchLogsLogGroupArn?: string | null;
  CloudWatchLogsRoleArn?: string | null;
  KmsKeyId?: string | null;
  IsOrganizationTrail?: boolean | null;
}

// refs: 1 - tags: named, output
export interface DeleteTrailResponse {
}

// refs: 1 - tags: named, output
export interface DescribeTrailsResponse {
  trailList?: Trail[] | null;
}

// refs: 1 - tags: named, output
export interface GetEventSelectorsResponse {
  TrailARN?: string | null;
  EventSelectors?: EventSelector[] | null;
}

// refs: 1 - tags: named, output
export interface GetInsightSelectorsResponse {
  TrailARN?: string | null;
  InsightSelectors?: InsightSelector[] | null;
}

// refs: 1 - tags: named, output
export interface GetTrailResponse {
  Trail?: Trail | null;
}

// refs: 1 - tags: named, output
export interface GetTrailStatusResponse {
  IsLogging?: boolean | null;
  LatestDeliveryError?: string | null;
  LatestNotificationError?: string | null;
  LatestDeliveryTime?: Date | number | null;
  LatestNotificationTime?: Date | number | null;
  StartLoggingTime?: Date | number | null;
  StopLoggingTime?: Date | number | null;
  LatestCloudWatchLogsDeliveryError?: string | null;
  LatestCloudWatchLogsDeliveryTime?: Date | number | null;
  LatestDigestDeliveryTime?: Date | number | null;
  LatestDigestDeliveryError?: string | null;
  LatestDeliveryAttemptTime?: string | null;
  LatestNotificationAttemptTime?: string | null;
  LatestNotificationAttemptSucceeded?: string | null;
  LatestDeliveryAttemptSucceeded?: string | null;
  TimeLoggingStarted?: string | null;
  TimeLoggingStopped?: string | null;
}

// refs: 1 - tags: named, output
export interface ListPublicKeysResponse {
  PublicKeyList?: PublicKey[] | null;
  NextToken?: string | null;
}

// refs: 1 - tags: named, output
export interface ListTagsResponse {
  ResourceTagList?: ResourceTag[] | null;
  NextToken?: string | null;
}

// refs: 1 - tags: named, output
export interface ListTrailsResponse {
  Trails?: TrailInfo[] | null;
  NextToken?: string | null;
}

// refs: 1 - tags: named, output
export interface LookupEventsResponse {
  Events?: Event[] | null;
  NextToken?: string | null;
}

// refs: 1 - tags: named, output
export interface PutEventSelectorsResponse {
  TrailARN?: string | null;
  EventSelectors?: EventSelector[] | null;
}

// refs: 1 - tags: named, output
export interface PutInsightSelectorsResponse {
  TrailARN?: string | null;
  InsightSelectors?: InsightSelector[] | null;
}

// refs: 1 - tags: named, output
export interface RemoveTagsResponse {
}

// refs: 1 - tags: named, output
export interface StartLoggingResponse {
}

// refs: 1 - tags: named, output
export interface StopLoggingResponse {
}

// refs: 1 - tags: named, output
export interface UpdateTrailResponse {
  Name?: string | null;
  S3BucketName?: string | null;
  S3KeyPrefix?: string | null;
  SnsTopicName?: string | null;
  SnsTopicARN?: string | null;
  IncludeGlobalServiceEvents?: boolean | null;
  IsMultiRegionTrail?: boolean | null;
  TrailARN?: string | null;
  LogFileValidationEnabled?: boolean | null;
  CloudWatchLogsLogGroupArn?: string | null;
  CloudWatchLogsRoleArn?: string | null;
  KmsKeyId?: string | null;
  IsOrganizationTrail?: boolean | null;
}

// refs: 4 - tags: input, named, interface, output
export interface Tag {
  Key: string;
  Value?: string | null;
}
function fromTag(input?: Tag | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}
function toTag(root: JSONValue): Tag {
  return prt.readObj({
    required: {
      "Key": "s",
    },
    optional: {
      "Value": "s",
    },
  }, root);
}

// refs: 1 - tags: input, named, interface
export interface LookupAttribute {
  AttributeKey: LookupAttributeKey;
  AttributeValue: string;
}
function fromLookupAttribute(input?: LookupAttribute | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}

// refs: 1 - tags: input, named, enum
export type LookupAttributeKey =
| "EventId"
| "EventName"
| "ReadOnly"
| "Username"
| "ResourceType"
| "ResourceName"
| "EventSource"
| "AccessKeyId"
;


// refs: 1 - tags: input, named, enum
export type EventCategory =
| "insight"
;


// refs: 3 - tags: input, named, interface, output
export interface EventSelector {
  ReadWriteType?: ReadWriteType | null;
  IncludeManagementEvents?: boolean | null;
  DataResources?: DataResource[] | null;
  ExcludeManagementEventSources?: string[] | null;
}
function fromEventSelector(input?: EventSelector | null): JSONValue {
  if (!input) return input;
  return {...input,
    DataResources: input["DataResources"]?.map(x => fromDataResource(x)),
  }
}
function toEventSelector(root: JSONValue): EventSelector {
  return prt.readObj({
    required: {},
    optional: {
      "ReadWriteType": toReadWriteType,
      "IncludeManagementEvents": "b",
      "DataResources": [toDataResource],
      "ExcludeManagementEventSources": ["s"],
    },
  }, root);
}

// refs: 3 - tags: input, named, enum, output
export type ReadWriteType =
| "ReadOnly"
| "WriteOnly"
| "All"
;

function toReadWriteType(root: JSONValue): ReadWriteType | null {
  return ( false
    || root == "ReadOnly"
    || root == "WriteOnly"
    || root == "All"
  ) ? root : null;
}

// refs: 3 - tags: input, named, interface, output
export interface DataResource {
  Type?: string | null;
  Values?: string[] | null;
}
function fromDataResource(input?: DataResource | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}
function toDataResource(root: JSONValue): DataResource {
  return prt.readObj({
    required: {},
    optional: {
      "Type": "s",
      "Values": ["s"],
    },
  }, root);
}

// refs: 3 - tags: input, named, interface, output
export interface InsightSelector {
  InsightType?: InsightType | null;
}
function fromInsightSelector(input?: InsightSelector | null): JSONValue {
  if (!input) return input;
  return {...input,
  }
}
function toInsightSelector(root: JSONValue): InsightSelector {
  return prt.readObj({
    required: {},
    optional: {
      "InsightType": toInsightType,
    },
  }, root);
}

// refs: 3 - tags: input, named, enum, output
export type InsightType =
| "ApiCallRateInsight"
;

function toInsightType(root: JSONValue): InsightType | null {
  return ( false
    || root == "ApiCallRateInsight"
  ) ? root : null;
}

// refs: 2 - tags: output, named, interface
export interface Trail {
  Name?: string | null;
  S3BucketName?: string | null;
  S3KeyPrefix?: string | null;
  SnsTopicName?: string | null;
  SnsTopicARN?: string | null;
  IncludeGlobalServiceEvents?: boolean | null;
  IsMultiRegionTrail?: boolean | null;
  HomeRegion?: string | null;
  TrailARN?: string | null;
  LogFileValidationEnabled?: boolean | null;
  CloudWatchLogsLogGroupArn?: string | null;
  CloudWatchLogsRoleArn?: string | null;
  KmsKeyId?: string | null;
  HasCustomEventSelectors?: boolean | null;
  HasInsightSelectors?: boolean | null;
  IsOrganizationTrail?: boolean | null;
}
function toTrail(root: JSONValue): Trail {
  return prt.readObj({
    required: {},
    optional: {
      "Name": "s",
      "S3BucketName": "s",
      "S3KeyPrefix": "s",
      "SnsTopicName": "s",
      "SnsTopicARN": "s",
      "IncludeGlobalServiceEvents": "b",
      "IsMultiRegionTrail": "b",
      "HomeRegion": "s",
      "TrailARN": "s",
      "LogFileValidationEnabled": "b",
      "CloudWatchLogsLogGroupArn": "s",
      "CloudWatchLogsRoleArn": "s",
      "KmsKeyId": "s",
      "HasCustomEventSelectors": "b",
      "HasInsightSelectors": "b",
      "IsOrganizationTrail": "b",
    },
  }, root);
}

// refs: 1 - tags: output, named, interface
export interface PublicKey {
  Value?: Uint8Array | string | null;
  ValidityStartTime?: Date | number | null;
  ValidityEndTime?: Date | number | null;
  Fingerprint?: string | null;
}
function toPublicKey(root: JSONValue): PublicKey {
  return prt.readObj({
    required: {},
    optional: {
      "Value": "a",
      "ValidityStartTime": "d",
      "ValidityEndTime": "d",
      "Fingerprint": "s",
    },
  }, root);
}

// refs: 1 - tags: output, named, interface
export interface ResourceTag {
  ResourceId?: string | null;
  TagsList?: Tag[] | null;
}
function toResourceTag(root: JSONValue): ResourceTag {
  return prt.readObj({
    required: {},
    optional: {
      "ResourceId": "s",
      "TagsList": [toTag],
    },
  }, root);
}

// refs: 1 - tags: output, named, interface
export interface TrailInfo {
  TrailARN?: string | null;
  Name?: string | null;
  HomeRegion?: string | null;
}
function toTrailInfo(root: JSONValue): TrailInfo {
  return prt.readObj({
    required: {},
    optional: {
      "TrailARN": "s",
      "Name": "s",
      "HomeRegion": "s",
    },
  }, root);
}

// refs: 1 - tags: output, named, interface
export interface Event {
  EventId?: string | null;
  EventName?: string | null;
  ReadOnly?: string | null;
  AccessKeyId?: string | null;
  EventTime?: Date | number | null;
  EventSource?: string | null;
  Username?: string | null;
  Resources?: Resource[] | null;
  CloudTrailEvent?: string | null;
}
function toEvent(root: JSONValue): Event {
  return prt.readObj({
    required: {},
    optional: {
      "EventId": "s",
      "EventName": "s",
      "ReadOnly": "s",
      "AccessKeyId": "s",
      "EventTime": "d",
      "EventSource": "s",
      "Username": "s",
      "Resources": [toResource],
      "CloudTrailEvent": "s",
    },
  }, root);
}

// refs: 1 - tags: output, named, interface
export interface Resource {
  ResourceType?: string | null;
  ResourceName?: string | null;
}
function toResource(root: JSONValue): Resource {
  return prt.readObj({
    required: {},
    optional: {
      "ResourceType": "s",
      "ResourceName": "s",
    },
  }, root);
}
