// Autogenerated API client for: Service Quotas

import type { ServiceClient, ApiFactory, ApiMetadata } from '../../client/common.ts';
interface RequestConfig {
  abortSignal?: AbortSignal;
}

import * as cmnP from "../../encoding/common.ts";
import * as jsonP from "../../encoding/json.ts";

export default class ServiceQuotas {
  #client: ServiceClient;
  constructor(apiFactory: ApiFactory) {
    this.#client = apiFactory.buildServiceClient(ServiceQuotas.ApiMetadata);
  }

  static ApiMetadata: ApiMetadata = {
    "apiVersion": "2019-06-24",
    "endpointPrefix": "servicequotas",
    "jsonVersion": "1.1",
    "protocol": "json",
    "serviceFullName": "Service Quotas",
    "serviceId": "Service Quotas",
    "signatureVersion": "v4",
    "targetPrefix": "ServiceQuotasV20190624",
    "uid": "service-quotas-2019-06-24"
  };

  async associateServiceQuotaTemplate(
    {abortSignal, ...params}: RequestConfig & AssociateServiceQuotaTemplateRequest = {},
  ): Promise<AssociateServiceQuotaTemplateResponse> {
    const body: jsonP.JSONObject = {
    };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "AssociateServiceQuotaTemplate",
    });
    return jsonP.readObj({
      required: {},
      optional: {},
    }, await resp.json());
  }

  async deleteServiceQuotaIncreaseRequestFromTemplate(
    {abortSignal, ...params}: RequestConfig & DeleteServiceQuotaIncreaseRequestFromTemplateRequest,
  ): Promise<DeleteServiceQuotaIncreaseRequestFromTemplateResponse> {
    const body: jsonP.JSONObject = {
      ServiceCode: params["ServiceCode"],
      QuotaCode: params["QuotaCode"],
      AwsRegion: params["AwsRegion"],
    };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "DeleteServiceQuotaIncreaseRequestFromTemplate",
    });
    return jsonP.readObj({
      required: {},
      optional: {},
    }, await resp.json());
  }

  async disassociateServiceQuotaTemplate(
    {abortSignal, ...params}: RequestConfig & DisassociateServiceQuotaTemplateRequest = {},
  ): Promise<DisassociateServiceQuotaTemplateResponse> {
    const body: jsonP.JSONObject = {
    };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "DisassociateServiceQuotaTemplate",
    });
    return jsonP.readObj({
      required: {},
      optional: {},
    }, await resp.json());
  }

  async getAWSDefaultServiceQuota(
    {abortSignal, ...params}: RequestConfig & GetAWSDefaultServiceQuotaRequest,
  ): Promise<GetAWSDefaultServiceQuotaResponse> {
    const body: jsonP.JSONObject = {
      ServiceCode: params["ServiceCode"],
      QuotaCode: params["QuotaCode"],
    };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "GetAWSDefaultServiceQuota",
    });
    return jsonP.readObj({
      required: {},
      optional: {
        "Quota": toServiceQuota,
      },
    }, await resp.json());
  }

  async getAssociationForServiceQuotaTemplate(
    {abortSignal, ...params}: RequestConfig & GetAssociationForServiceQuotaTemplateRequest = {},
  ): Promise<GetAssociationForServiceQuotaTemplateResponse> {
    const body: jsonP.JSONObject = {
    };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "GetAssociationForServiceQuotaTemplate",
    });
    return jsonP.readObj({
      required: {},
      optional: {
        "ServiceQuotaTemplateAssociationStatus": (x: jsonP.JSONValue) => cmnP.readEnum<ServiceQuotaTemplateAssociationStatus>(x),
      },
    }, await resp.json());
  }

  async getRequestedServiceQuotaChange(
    {abortSignal, ...params}: RequestConfig & GetRequestedServiceQuotaChangeRequest,
  ): Promise<GetRequestedServiceQuotaChangeResponse> {
    const body: jsonP.JSONObject = {
      RequestId: params["RequestId"],
    };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "GetRequestedServiceQuotaChange",
    });
    return jsonP.readObj({
      required: {},
      optional: {
        "RequestedQuota": toRequestedServiceQuotaChange,
      },
    }, await resp.json());
  }

  async getServiceQuota(
    {abortSignal, ...params}: RequestConfig & GetServiceQuotaRequest,
  ): Promise<GetServiceQuotaResponse> {
    const body: jsonP.JSONObject = {
      ServiceCode: params["ServiceCode"],
      QuotaCode: params["QuotaCode"],
    };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "GetServiceQuota",
    });
    return jsonP.readObj({
      required: {},
      optional: {
        "Quota": toServiceQuota,
      },
    }, await resp.json());
  }

  async getServiceQuotaIncreaseRequestFromTemplate(
    {abortSignal, ...params}: RequestConfig & GetServiceQuotaIncreaseRequestFromTemplateRequest,
  ): Promise<GetServiceQuotaIncreaseRequestFromTemplateResponse> {
    const body: jsonP.JSONObject = {
      ServiceCode: params["ServiceCode"],
      QuotaCode: params["QuotaCode"],
      AwsRegion: params["AwsRegion"],
    };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "GetServiceQuotaIncreaseRequestFromTemplate",
    });
    return jsonP.readObj({
      required: {},
      optional: {
        "ServiceQuotaIncreaseRequestInTemplate": toServiceQuotaIncreaseRequestInTemplate,
      },
    }, await resp.json());
  }

  async listAWSDefaultServiceQuotas(
    {abortSignal, ...params}: RequestConfig & ListAWSDefaultServiceQuotasRequest,
  ): Promise<ListAWSDefaultServiceQuotasResponse> {
    const body: jsonP.JSONObject = {
      ServiceCode: params["ServiceCode"],
      NextToken: params["NextToken"],
      MaxResults: params["MaxResults"],
    };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "ListAWSDefaultServiceQuotas",
    });
    return jsonP.readObj({
      required: {},
      optional: {
        "NextToken": "s",
        "Quotas": [toServiceQuota],
      },
    }, await resp.json());
  }

  async listRequestedServiceQuotaChangeHistory(
    {abortSignal, ...params}: RequestConfig & ListRequestedServiceQuotaChangeHistoryRequest = {},
  ): Promise<ListRequestedServiceQuotaChangeHistoryResponse> {
    const body: jsonP.JSONObject = {
      ServiceCode: params["ServiceCode"],
      Status: params["Status"],
      NextToken: params["NextToken"],
      MaxResults: params["MaxResults"],
    };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "ListRequestedServiceQuotaChangeHistory",
    });
    return jsonP.readObj({
      required: {},
      optional: {
        "NextToken": "s",
        "RequestedQuotas": [toRequestedServiceQuotaChange],
      },
    }, await resp.json());
  }

  async listRequestedServiceQuotaChangeHistoryByQuota(
    {abortSignal, ...params}: RequestConfig & ListRequestedServiceQuotaChangeHistoryByQuotaRequest,
  ): Promise<ListRequestedServiceQuotaChangeHistoryByQuotaResponse> {
    const body: jsonP.JSONObject = {
      ServiceCode: params["ServiceCode"],
      QuotaCode: params["QuotaCode"],
      Status: params["Status"],
      NextToken: params["NextToken"],
      MaxResults: params["MaxResults"],
    };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "ListRequestedServiceQuotaChangeHistoryByQuota",
    });
    return jsonP.readObj({
      required: {},
      optional: {
        "NextToken": "s",
        "RequestedQuotas": [toRequestedServiceQuotaChange],
      },
    }, await resp.json());
  }

  async listServiceQuotaIncreaseRequestsInTemplate(
    {abortSignal, ...params}: RequestConfig & ListServiceQuotaIncreaseRequestsInTemplateRequest = {},
  ): Promise<ListServiceQuotaIncreaseRequestsInTemplateResponse> {
    const body: jsonP.JSONObject = {
      ServiceCode: params["ServiceCode"],
      AwsRegion: params["AwsRegion"],
      NextToken: params["NextToken"],
      MaxResults: params["MaxResults"],
    };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "ListServiceQuotaIncreaseRequestsInTemplate",
    });
    return jsonP.readObj({
      required: {},
      optional: {
        "ServiceQuotaIncreaseRequestInTemplateList": [toServiceQuotaIncreaseRequestInTemplate],
        "NextToken": "s",
      },
    }, await resp.json());
  }

  async listServiceQuotas(
    {abortSignal, ...params}: RequestConfig & ListServiceQuotasRequest,
  ): Promise<ListServiceQuotasResponse> {
    const body: jsonP.JSONObject = {
      ServiceCode: params["ServiceCode"],
      NextToken: params["NextToken"],
      MaxResults: params["MaxResults"],
    };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "ListServiceQuotas",
    });
    return jsonP.readObj({
      required: {},
      optional: {
        "NextToken": "s",
        "Quotas": [toServiceQuota],
      },
    }, await resp.json());
  }

  async listServices(
    {abortSignal, ...params}: RequestConfig & ListServicesRequest = {},
  ): Promise<ListServicesResponse> {
    const body: jsonP.JSONObject = {
      NextToken: params["NextToken"],
      MaxResults: params["MaxResults"],
    };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "ListServices",
    });
    return jsonP.readObj({
      required: {},
      optional: {
        "NextToken": "s",
        "Services": [toServiceInfo],
      },
    }, await resp.json());
  }

  async putServiceQuotaIncreaseRequestIntoTemplate(
    {abortSignal, ...params}: RequestConfig & PutServiceQuotaIncreaseRequestIntoTemplateRequest,
  ): Promise<PutServiceQuotaIncreaseRequestIntoTemplateResponse> {
    const body: jsonP.JSONObject = {
      QuotaCode: params["QuotaCode"],
      ServiceCode: params["ServiceCode"],
      AwsRegion: params["AwsRegion"],
      DesiredValue: params["DesiredValue"],
    };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "PutServiceQuotaIncreaseRequestIntoTemplate",
    });
    return jsonP.readObj({
      required: {},
      optional: {
        "ServiceQuotaIncreaseRequestInTemplate": toServiceQuotaIncreaseRequestInTemplate,
      },
    }, await resp.json());
  }

  async requestServiceQuotaIncrease(
    {abortSignal, ...params}: RequestConfig & RequestServiceQuotaIncreaseRequest,
  ): Promise<RequestServiceQuotaIncreaseResponse> {
    const body: jsonP.JSONObject = {
      ServiceCode: params["ServiceCode"],
      QuotaCode: params["QuotaCode"],
      DesiredValue: params["DesiredValue"],
    };
    const resp = await this.#client.performRequest({
      abortSignal, body,
      action: "RequestServiceQuotaIncrease",
    });
    return jsonP.readObj({
      required: {},
      optional: {
        "RequestedQuota": toRequestedServiceQuotaChange,
      },
    }, await resp.json());
  }

}

// refs: 1 - tags: named, input
export interface AssociateServiceQuotaTemplateRequest {
}

// refs: 1 - tags: named, input
export interface DeleteServiceQuotaIncreaseRequestFromTemplateRequest {
  ServiceCode: string;
  QuotaCode: string;
  AwsRegion: string;
}

// refs: 1 - tags: named, input
export interface DisassociateServiceQuotaTemplateRequest {
}

// refs: 1 - tags: named, input
export interface GetAWSDefaultServiceQuotaRequest {
  ServiceCode: string;
  QuotaCode: string;
}

// refs: 1 - tags: named, input
export interface GetAssociationForServiceQuotaTemplateRequest {
}

// refs: 1 - tags: named, input
export interface GetRequestedServiceQuotaChangeRequest {
  RequestId: string;
}

// refs: 1 - tags: named, input
export interface GetServiceQuotaRequest {
  ServiceCode: string;
  QuotaCode: string;
}

// refs: 1 - tags: named, input
export interface GetServiceQuotaIncreaseRequestFromTemplateRequest {
  ServiceCode: string;
  QuotaCode: string;
  AwsRegion: string;
}

// refs: 1 - tags: named, input
export interface ListAWSDefaultServiceQuotasRequest {
  ServiceCode: string;
  NextToken?: string | null;
  MaxResults?: number | null;
}

// refs: 1 - tags: named, input
export interface ListRequestedServiceQuotaChangeHistoryRequest {
  ServiceCode?: string | null;
  Status?: RequestStatus | null;
  NextToken?: string | null;
  MaxResults?: number | null;
}

// refs: 1 - tags: named, input
export interface ListRequestedServiceQuotaChangeHistoryByQuotaRequest {
  ServiceCode: string;
  QuotaCode: string;
  Status?: RequestStatus | null;
  NextToken?: string | null;
  MaxResults?: number | null;
}

// refs: 1 - tags: named, input
export interface ListServiceQuotaIncreaseRequestsInTemplateRequest {
  ServiceCode?: string | null;
  AwsRegion?: string | null;
  NextToken?: string | null;
  MaxResults?: number | null;
}

// refs: 1 - tags: named, input
export interface ListServiceQuotasRequest {
  ServiceCode: string;
  NextToken?: string | null;
  MaxResults?: number | null;
}

// refs: 1 - tags: named, input
export interface ListServicesRequest {
  NextToken?: string | null;
  MaxResults?: number | null;
}

// refs: 1 - tags: named, input
export interface PutServiceQuotaIncreaseRequestIntoTemplateRequest {
  QuotaCode: string;
  ServiceCode: string;
  AwsRegion: string;
  DesiredValue: number;
}

// refs: 1 - tags: named, input
export interface RequestServiceQuotaIncreaseRequest {
  ServiceCode: string;
  QuotaCode: string;
  DesiredValue: number;
}

// refs: 1 - tags: named, output
export interface AssociateServiceQuotaTemplateResponse {
}

// refs: 1 - tags: named, output
export interface DeleteServiceQuotaIncreaseRequestFromTemplateResponse {
}

// refs: 1 - tags: named, output
export interface DisassociateServiceQuotaTemplateResponse {
}

// refs: 1 - tags: named, output
export interface GetAWSDefaultServiceQuotaResponse {
  Quota?: ServiceQuota | null;
}

// refs: 1 - tags: named, output
export interface GetAssociationForServiceQuotaTemplateResponse {
  ServiceQuotaTemplateAssociationStatus?: ServiceQuotaTemplateAssociationStatus | null;
}

// refs: 1 - tags: named, output
export interface GetRequestedServiceQuotaChangeResponse {
  RequestedQuota?: RequestedServiceQuotaChange | null;
}

// refs: 1 - tags: named, output
export interface GetServiceQuotaResponse {
  Quota?: ServiceQuota | null;
}

// refs: 1 - tags: named, output
export interface GetServiceQuotaIncreaseRequestFromTemplateResponse {
  ServiceQuotaIncreaseRequestInTemplate?: ServiceQuotaIncreaseRequestInTemplate | null;
}

// refs: 1 - tags: named, output
export interface ListAWSDefaultServiceQuotasResponse {
  NextToken?: string | null;
  Quotas?: ServiceQuota[] | null;
}

// refs: 1 - tags: named, output
export interface ListRequestedServiceQuotaChangeHistoryResponse {
  NextToken?: string | null;
  RequestedQuotas?: RequestedServiceQuotaChange[] | null;
}

// refs: 1 - tags: named, output
export interface ListRequestedServiceQuotaChangeHistoryByQuotaResponse {
  NextToken?: string | null;
  RequestedQuotas?: RequestedServiceQuotaChange[] | null;
}

// refs: 1 - tags: named, output
export interface ListServiceQuotaIncreaseRequestsInTemplateResponse {
  ServiceQuotaIncreaseRequestInTemplateList?: ServiceQuotaIncreaseRequestInTemplate[] | null;
  NextToken?: string | null;
}

// refs: 1 - tags: named, output
export interface ListServiceQuotasResponse {
  NextToken?: string | null;
  Quotas?: ServiceQuota[] | null;
}

// refs: 1 - tags: named, output
export interface ListServicesResponse {
  NextToken?: string | null;
  Services?: ServiceInfo[] | null;
}

// refs: 1 - tags: named, output
export interface PutServiceQuotaIncreaseRequestIntoTemplateResponse {
  ServiceQuotaIncreaseRequestInTemplate?: ServiceQuotaIncreaseRequestInTemplate | null;
}

// refs: 1 - tags: named, output
export interface RequestServiceQuotaIncreaseResponse {
  RequestedQuota?: RequestedServiceQuotaChange | null;
}

// refs: 6 - tags: input, named, enum, output
export type RequestStatus =
| "PENDING"
| "CASE_OPENED"
| "APPROVED"
| "DENIED"
| "CASE_CLOSED"
| cmnP.UnexpectedEnumValue;

// refs: 4 - tags: output, named, interface
export interface ServiceQuota {
  ServiceCode?: string | null;
  ServiceName?: string | null;
  QuotaArn?: string | null;
  QuotaCode?: string | null;
  QuotaName?: string | null;
  Value?: number | null;
  Unit?: string | null;
  Adjustable?: boolean | null;
  GlobalQuota?: boolean | null;
  UsageMetric?: MetricInfo | null;
  Period?: QuotaPeriod | null;
  ErrorReason?: ErrorReason | null;
}
function toServiceQuota(root: jsonP.JSONValue): ServiceQuota {
  return jsonP.readObj({
    required: {},
    optional: {
      "ServiceCode": "s",
      "ServiceName": "s",
      "QuotaArn": "s",
      "QuotaCode": "s",
      "QuotaName": "s",
      "Value": "n",
      "Unit": "s",
      "Adjustable": "b",
      "GlobalQuota": "b",
      "UsageMetric": toMetricInfo,
      "Period": toQuotaPeriod,
      "ErrorReason": toErrorReason,
    },
  }, root);
}

// refs: 4 - tags: output, named, interface
export interface MetricInfo {
  MetricNamespace?: string | null;
  MetricName?: string | null;
  MetricDimensions?: { [key: string]: string | null | undefined } | null;
  MetricStatisticRecommendation?: string | null;
}
function toMetricInfo(root: jsonP.JSONValue): MetricInfo {
  return jsonP.readObj({
    required: {},
    optional: {
      "MetricNamespace": "s",
      "MetricName": "s",
      "MetricDimensions": x => jsonP.readMap(String, String, x),
      "MetricStatisticRecommendation": "s",
    },
  }, root);
}

// refs: 4 - tags: output, named, interface
export interface QuotaPeriod {
  PeriodValue?: number | null;
  PeriodUnit?: PeriodUnit | null;
}
function toQuotaPeriod(root: jsonP.JSONValue): QuotaPeriod {
  return jsonP.readObj({
    required: {},
    optional: {
      "PeriodValue": "n",
      "PeriodUnit": (x: jsonP.JSONValue) => cmnP.readEnum<PeriodUnit>(x),
    },
  }, root);
}

// refs: 4 - tags: output, named, enum
export type PeriodUnit =
| "MICROSECOND"
| "MILLISECOND"
| "SECOND"
| "MINUTE"
| "HOUR"
| "DAY"
| "WEEK"
| cmnP.UnexpectedEnumValue;

// refs: 4 - tags: output, named, interface
export interface ErrorReason {
  ErrorCode?: ErrorCode | null;
  ErrorMessage?: string | null;
}
function toErrorReason(root: jsonP.JSONValue): ErrorReason {
  return jsonP.readObj({
    required: {},
    optional: {
      "ErrorCode": (x: jsonP.JSONValue) => cmnP.readEnum<ErrorCode>(x),
      "ErrorMessage": "s",
    },
  }, root);
}

// refs: 4 - tags: output, named, enum
export type ErrorCode =
| "DEPENDENCY_ACCESS_DENIED_ERROR"
| "DEPENDENCY_THROTTLING_ERROR"
| "DEPENDENCY_SERVICE_ERROR"
| "SERVICE_QUOTA_NOT_AVAILABLE_ERROR"
| cmnP.UnexpectedEnumValue;

// refs: 1 - tags: output, named, enum
export type ServiceQuotaTemplateAssociationStatus =
| "ASSOCIATED"
| "DISASSOCIATED"
| cmnP.UnexpectedEnumValue;

// refs: 4 - tags: output, named, interface
export interface RequestedServiceQuotaChange {
  Id?: string | null;
  CaseId?: string | null;
  ServiceCode?: string | null;
  ServiceName?: string | null;
  QuotaCode?: string | null;
  QuotaName?: string | null;
  DesiredValue?: number | null;
  Status?: RequestStatus | null;
  Created?: Date | number | null;
  LastUpdated?: Date | number | null;
  Requester?: string | null;
  QuotaArn?: string | null;
  GlobalQuota?: boolean | null;
  Unit?: string | null;
}
function toRequestedServiceQuotaChange(root: jsonP.JSONValue): RequestedServiceQuotaChange {
  return jsonP.readObj({
    required: {},
    optional: {
      "Id": "s",
      "CaseId": "s",
      "ServiceCode": "s",
      "ServiceName": "s",
      "QuotaCode": "s",
      "QuotaName": "s",
      "DesiredValue": "n",
      "Status": (x: jsonP.JSONValue) => cmnP.readEnum<RequestStatus>(x),
      "Created": "d",
      "LastUpdated": "d",
      "Requester": "s",
      "QuotaArn": "s",
      "GlobalQuota": "b",
      "Unit": "s",
    },
  }, root);
}

// refs: 3 - tags: output, named, interface
export interface ServiceQuotaIncreaseRequestInTemplate {
  ServiceCode?: string | null;
  ServiceName?: string | null;
  QuotaCode?: string | null;
  QuotaName?: string | null;
  DesiredValue?: number | null;
  AwsRegion?: string | null;
  Unit?: string | null;
  GlobalQuota?: boolean | null;
}
function toServiceQuotaIncreaseRequestInTemplate(root: jsonP.JSONValue): ServiceQuotaIncreaseRequestInTemplate {
  return jsonP.readObj({
    required: {},
    optional: {
      "ServiceCode": "s",
      "ServiceName": "s",
      "QuotaCode": "s",
      "QuotaName": "s",
      "DesiredValue": "n",
      "AwsRegion": "s",
      "Unit": "s",
      "GlobalQuota": "b",
    },
  }, root);
}

// refs: 1 - tags: output, named, interface
export interface ServiceInfo {
  ServiceCode?: string | null;
  ServiceName?: string | null;
}
function toServiceInfo(root: jsonP.JSONValue): ServiceInfo {
  return jsonP.readObj({
    required: {},
    optional: {
      "ServiceCode": "s",
      "ServiceName": "s",
    },
  }, root);
}
