// Autogenerated API client for: Amazon WorkMail Message Flow

import type { ServiceClient, ApiFactory, ApiMetadata } from '../../client/common.ts';
interface RequestConfig {
  abortSignal?: AbortSignal;
}

import * as cmnP from "../../encoding/common.ts";
import * as jsonP from "../../encoding/json.ts";

export default class WorkMailMessageFlow {
  #client: ServiceClient;
  constructor(apiFactory: ApiFactory) {
    this.#client = apiFactory.buildServiceClient(WorkMailMessageFlow.ApiMetadata);
  }

  static ApiMetadata: ApiMetadata = {
    "apiVersion": "2019-05-01",
    "endpointPrefix": "workmailmessageflow",
    "jsonVersion": "1.1",
    "protocol": "rest-json",
    "serviceFullName": "Amazon WorkMail Message Flow",
    "serviceId": "WorkMailMessageFlow",
    "signatureVersion": "v4",
    "uid": "workmailmessageflow-2019-05-01"
  };

  async getRawMessageContent(
    {abortSignal, ...params}: RequestConfig & GetRawMessageContentRequest,
  ): Promise<GetRawMessageContentResponse> {

    const resp = await this.#client.performRequest({
      abortSignal,
      action: "GetRawMessageContent",
      method: "GET",
      requestUri: cmnP.encodePath`/messages/${params["messageId"]}`,
    });
  return {
    messageContent: await resp.text(), // TODO: maybe allow proper body streaming,
  };
  }

}

// refs: 1 - tags: named, input
export interface GetRawMessageContentRequest {
  messageId: string;
}

// refs: 1 - tags: named, output
export interface GetRawMessageContentResponse {
  messageContent: Uint8Array | string;
}
