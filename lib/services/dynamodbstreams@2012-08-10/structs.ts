// Autogenerated API structures for: Amazon DynamoDB Streams

import * as cmnP from "../../encoding/common.ts";

// refs: 1 - tags: named, input
export interface DescribeStreamInput {
  StreamArn: string;
  Limit?: number | null;
  ExclusiveStartShardId?: string | null;
}

// refs: 1 - tags: named, input
export interface GetRecordsInput {
  ShardIterator: string;
  Limit?: number | null;
}

// refs: 1 - tags: named, input
export interface GetShardIteratorInput {
  StreamArn: string;
  ShardId: string;
  ShardIteratorType: ShardIteratorType;
  SequenceNumber?: string | null;
}

// refs: 1 - tags: named, input
export interface ListStreamsInput {
  TableName?: string | null;
  Limit?: number | null;
  ExclusiveStartStreamArn?: string | null;
}

// refs: 1 - tags: named, output
export interface DescribeStreamOutput {
  StreamDescription?: StreamDescription | null;
}

// refs: 1 - tags: named, output
export interface GetRecordsOutput {
  Records?: Record[] | null;
  NextShardIterator?: string | null;
}

// refs: 1 - tags: named, output
export interface GetShardIteratorOutput {
  ShardIterator?: string | null;
}

// refs: 1 - tags: named, output
export interface ListStreamsOutput {
  Streams?: Stream[] | null;
  LastEvaluatedStreamArn?: string | null;
}

// refs: 1 - tags: input, named, enum
export type ShardIteratorType =
| "TRIM_HORIZON"
| "LATEST"
| "AT_SEQUENCE_NUMBER"
| "AFTER_SEQUENCE_NUMBER"
| cmnP.UnexpectedEnumValue;

// refs: 1 - tags: output, named, interface
export interface StreamDescription {
  StreamArn?: string | null;
  StreamLabel?: string | null;
  StreamStatus?: StreamStatus | null;
  StreamViewType?: StreamViewType | null;
  CreationRequestDateTime?: Date | number | null;
  TableName?: string | null;
  KeySchema?: KeySchemaElement[] | null;
  Shards?: Shard[] | null;
  LastEvaluatedShardId?: string | null;
}

// refs: 1 - tags: output, named, enum
export type StreamStatus =
| "ENABLING"
| "ENABLED"
| "DISABLING"
| "DISABLED"
| cmnP.UnexpectedEnumValue;

// refs: 2 - tags: output, named, enum
export type StreamViewType =
| "NEW_IMAGE"
| "OLD_IMAGE"
| "NEW_AND_OLD_IMAGES"
| "KEYS_ONLY"
| cmnP.UnexpectedEnumValue;

// refs: 1 - tags: output, named, interface
export interface KeySchemaElement {
  AttributeName: string;
  KeyType: KeyType;
}

// refs: 1 - tags: output, named, enum
export type KeyType =
| "HASH"
| "RANGE"
| cmnP.UnexpectedEnumValue;

// refs: 1 - tags: output, named, interface
export interface Shard {
  ShardId?: string | null;
  SequenceNumberRange?: SequenceNumberRange | null;
  ParentShardId?: string | null;
}

// refs: 1 - tags: output, named, interface
export interface SequenceNumberRange {
  StartingSequenceNumber?: string | null;
  EndingSequenceNumber?: string | null;
}

// refs: 1 - tags: output, named, interface
export interface Record {
  eventID?: string | null;
  eventName?: OperationType | null;
  eventVersion?: string | null;
  eventSource?: string | null;
  awsRegion?: string | null;
  dynamodb?: StreamRecord | null;
  userIdentity?: Identity | null;
}

// refs: 1 - tags: output, named, enum
export type OperationType =
| "INSERT"
| "MODIFY"
| "REMOVE"
| cmnP.UnexpectedEnumValue;

// refs: 1 - tags: output, named, interface
export interface StreamRecord {
  ApproximateCreationDateTime?: Date | number | null;
  Keys?: { [key: string]: AttributeValue | null | undefined } | null;
  NewImage?: { [key: string]: AttributeValue | null | undefined } | null;
  OldImage?: { [key: string]: AttributeValue | null | undefined } | null;
  SequenceNumber?: string | null;
  SizeBytes?: number | null;
  StreamViewType?: StreamViewType | null;
}

// refs: 9 - tags: output, named, interface, recursed
export interface AttributeValue {
  S?: string | null;
  N?: string | null;
  B?: Uint8Array | string | null;
  SS?: string[] | null;
  NS?: string[] | null;
  BS?: (Uint8Array | string)[] | null;
  M?: { [key: string]: AttributeValue | null | undefined } | null;
  L?: AttributeValue[] | null;
  NULL?: boolean | null;
  BOOL?: boolean | null;
}

// refs: 1 - tags: output, named, interface
export interface Identity {
  PrincipalId?: string | null;
  Type?: string | null;
}

// refs: 1 - tags: output, named, interface
export interface Stream {
  StreamArn?: string | null;
  TableName?: string | null;
  StreamLabel?: string | null;
}
